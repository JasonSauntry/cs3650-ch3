gcc -g `pkg-config fuse --cflags` -c -o cowmount.o cowmount.c
gcc  -o cowmount svec.o file.o slist.o inode.o super.o pages.o bitmaps.o cowmount.o garbage.o storage.o directory.o `pkg-config fuse --libs` -lbsd
make disk0.cow
make[1]: Entering directory '/home/kelly/Documents/cs3650-ch3'
make[1]: 'disk0.cow' is up to date.
make[1]: Leaving directory '/home/kelly/Documents/cs3650-ch3'
./cowmount -s -f mnt disk0.cow
access(/, 0004) -> 0
+ storage_stat(/BDMV)
tree_lookup error
-2
getattr(/BDMV) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /BDMV+ storage_stat(/.Trash)
tree_lookup error
-2
getattr(/.Trash) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash+ storage_stat(/.Trash-1000)
tree_lookup error
-2
getattr(/.Trash-1000) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash-1000+ storage_stat(/.xdg-volume-info)
tree_lookup error
-2
getattr(/.xdg-volume-info) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.xdg-volume-info+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/one.txt)
tree_lookup error
-2
getattr(/one.txt) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /one.txtCopying / ...
DNE: /garbage mark node 0
+ cpy file 0 to 1
+ copy dir 1 -> looking for root 1
I am root. ¯\_(ツ)_/¯
Path for /: 1
Copy / 0 --> 1 == 1
+ mknod create /one.txt [100644] - #2
+ dirent = 'one.txt'
+ directory_put(..., one.txt, 2) -> 0
node{mode: 40755, size: 20}
mknod(/one.txt, 100644) -> 0
Path for /one.txt: 1 --> 2
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 2
node{mode: 100644, size: 0}
getattr(/one.txt) -> (0) {mode: 100644, size: 0}
Path for /one.txt: 1 --> 2
access(/one.txt, 0000) -> 0
open(/one.txt) -> 0
Path for /one.txt: 1 --> 2
ioctl(/one.txt, 21505, ...) -> -1
Copying /one.txt ...
Path for /one.txt: 1 --> 2
garbage mark node 1
garbage mark node 2
garbage mark node 0
+ cpy file 1 to 3
+ copy dir 2 -> looking for root 3
+ cpy file 2 to 4
+ copy dir 3 -> looking for root 3
I am root. ¯\_(ツ)_/¯
+ replace_ref 2 with 4
Path for /one.txt: 3 --> 4
Copy /one.txt 2 --> 4 == 4
+ storage_write inum: 4
write(/one.txt, 11 bytes, @+0) -> 11
Path for /one.txt: 3 --> 4
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
getattr(/one.txt) -> (0) {mode: 100644, size: 11}
Path for /one.txt: 3 --> 4
access(/one.txt, 0000) -> 0
open(/one.txt) -> 0
Path for /one.txt: 3 --> 4
ioctl(/one.txt, 21505, ...) -> -1
In link 0:	3
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/one.txt); inode 4
node{mode: 100644, size: 11}
read(/one.txt, 4096 bytes, @+0) -> 11
Path for /one.txt: 3 --> 4
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
getattr(/one.txt) -> (0) {mode: 100644, size: 11}
Path for /one.txt: 3 --> 4
+ storage_stat(/two.txt)
tree_lookup error
-2
getattr(/two.txt) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /two.txtCopying / ...
Path for /: 3
garbage mark node 3
garbage mark node 4
garbage mark node 1
garbage mark node 2
garbage mark node 0
+ cpy file 3 to 5
+ copy dir 5 -> looking for root 5
I am root. ¯\_(ツ)_/¯
Path for /: 5
Copy / 3 --> 5 == 5
+ mknod create /two.txt [100644] - #6
+ dirent = 'two.txt'
+ directory_put(..., two.txt, 6) -> 0
node{mode: 40755, size: 40}
mknod(/two.txt, 100644) -> 0
Path for /two.txt: 5 --> 6
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 6
node{mode: 100644, size: 0}
getattr(/two.txt) -> (0) {mode: 100644, size: 0}
Path for /two.txt: 5 --> 6
access(/two.txt, 0000) -> 0
open(/two.txt) -> 0
Path for /two.txt: 5 --> 6
ioctl(/two.txt, 21505, ...) -> -1
Copying /two.txt ...
Path for /two.txt: 5 --> 6
garbage mark node 5
garbage mark node 4
garbage mark node 6
garbage mark node 3
garbage mark node 4
garbage mark node 1
garbage mark node 2
garbage mark node 0
+ cpy file 5 to 7
+ copy dir 6 -> looking for root 7
+ cpy file 6 to 8
+ copy dir 7 -> looking for root 7
I am root. ¯\_(ツ)_/¯
+ replace_ref 6 with 8
Path for /two.txt: 7 --> 8
Copy /two.txt 6 --> 8 == 8
+ storage_write inum: 8
write(/two.txt, 11 bytes, @+0) -> 11
Path for /two.txt: 7 --> 8
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
getattr(/two.txt) -> (0) {mode: 100644, size: 11}
Path for /two.txt: 7 --> 8
access(/two.txt, 0000) -> 0
open(/two.txt) -> 0
Path for /two.txt: 7 --> 8
ioctl(/two.txt, 21505, ...) -> -1
In link 0:	7
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/two.txt); inode 8
node{mode: 100644, size: 11}
read(/two.txt, 4096 bytes, @+0) -> 11
Path for /two.txt: 7 --> 8
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
getattr(/two.txt) -> (0) {mode: 100644, size: 11}
Path for /two.txt: 7 --> 8
+ storage_stat(/)
+ storage_stat(/); inode 7
node{mode: 40755, size: 40}
getattr(/) -> (0) {mode: 40755, size: 40}
Path for /: 7
+ storage_stat(/)
+ storage_stat(/); inode 7
node{mode: 40755, size: 40}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 7
+ storage_stat(/2k.txt)
tree_lookup error
-2
getattr(/2k.txt) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /2k.txtCopying / ...
Path for /: 7
garbage mark node 7
garbage mark node 4
garbage mark node 8
garbage mark node 5
garbage mark node 4
garbage mark node 6
garbage mark node 3
garbage mark node 4
garbage mark node 1
garbage mark node 2
garbage mark node 0
+ cpy file 7 to 9
+ copy dir 9 -> looking for root 9
I am root. ¯\_(ツ)_/¯
Path for /: 9
Copy / 7 --> 9 == 9
+ mknod create /2k.txt [100644] - #10
+ dirent = '2k.txt'
+ directory_put(..., 2k.txt, 10) -> 0
node{mode: 40755, size: 60}
mknod(/2k.txt, 100644) -> 0
Path for /2k.txt: 9 --> 10
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 10
node{mode: 100644, size: 0}
getattr(/2k.txt) -> (0) {mode: 100644, size: 0}
Path for /2k.txt: 9 --> 10
access(/2k.txt, 0000) -> 0
open(/2k.txt) -> 0
Path for /2k.txt: 9 --> 10
ioctl(/2k.txt, 21505, ...) -> -1
Copying /2k.txt ...
Path for /2k.txt: 9 --> 10
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
garbage mark node 7
garbage mark node 4
garbage mark node 8
garbage mark node 5
garbage mark node 4
garbage mark node 6
garbage mark node 3
garbage mark node 4
garbage mark node 1
garbage mark node 2
garbage mark node 0
+ cpy file 9 to 11
+ copy dir 10 -> looking for root 11
+ cpy file 10 to 12
+ copy dir 11 -> looking for root 11
I am root. ¯\_(ツ)_/¯
+ replace_ref 10 with 12
Path for /2k.txt: 11 --> 12
Copy /2k.txt 10 --> 12 == 12
+ storage_write inum: 12
write(/2k.txt, 2001 bytes, @+0) -> 2001
Path for /2k.txt: 11 --> 12
access(/2k.txt, 0000) -> 0
open(/2k.txt) -> 0
Path for /2k.txt: 11 --> 12
ioctl(/2k.txt, 21505, ...) -> -1
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
getattr(/2k.txt) -> (0) {mode: 100644, size: 2001}
Path for /2k.txt: 11 --> 12
In link 0:	11
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In linkfusermount -u mnt || true
 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/2k.txt); inode 12
node{mode: 100644, size: 2001}
read(/2k.txt, 4096 bytes, @+0) -> 2001
Path for /2k.txt: 11 --> 12
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
getattr(/2k.txt) -> (0) {mode: 100644, size: 2001}
Path for /2k.txt: 11 --> 12
access(/2k.txt, 0000) -> 0
open(/2k.txt) -> 0
Path for /2k.txt: 11 --> 12
ioctl(/2k.txt, 21505, ...) -> -1
In link 0:	11
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/2k.txt); inode 12
node{mode: 100644, size: 2001}
read(/2k.txt, 4096 bytes, @+0) -> 2001
Path for /2k.txt: 11 --> 12
make disk0.cow
make[1]: Entering directory '/home/kelly/Documents/cs3650-ch3'
make[1]: 'disk0.cow' is up to date.
make[1]: Leaving directory '/home/kelly/Documents/cs3650-ch3'
./cowmount -s -f mnt disk0.cow
access(/, 0004) -> 0
+ storage_stat(/.Trash)
tree_lookup error
-2
getattr(/.Trash) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash+ storage_stat(/.Trash-1000)
tree_lookup error
-2
getattr(/.Trash-1000) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash-1000+ storage_stat(/BDMV)
tree_lookup error
-2
getattr(/BDMV) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /BDMV+ storage_stat(/.xdg-volume-info)
tree_lookup error
-2
getattr(/.xdg-volume-info) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.xdg-volume-info+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 11
+ storage_stat(/)
+ storage_stat(/); inode 11
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
+ looking at path: 'one.txt'
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 11
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
getattr(/one.txt) -> (0) {mode: 100644, size: 11}
Path for /one.txt: 11 --> 4
access(/one.txt, 0000) -> 0
open(/one.txt) -> 0
Path for /one.txt: 11 --> 4
ioctl(/one.txt, 21505, ...) -> -1
In link 0:	3
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/one.txt); inode 4
node{mode: 100644, size: 11}
read(/one.txt, 4096 bytes, @+0) -> 11
Path for /one.txt: 11 --> 4
+ storage_stat(/one.txt)
+ storage_stat(/one.txt); inode 4
node{mode: 100644, size: 11}
getattr(/one.txt) -> (0) {mode: 100644, size: 11}
Path for /one.txt: 11 --> 4
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
getattr(/two.txt) -> (0) {mode: 100644, size: 11}
Path for /two.txt: 11 --> 8
access(/two.txt, 0000) -> 0
open(/two.txt) -> 0
Path for /two.txt: 11 --> 8
ioctl(/two.txt, 21505, ...) -> -1
In link 0:	7
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/two.txt); inode 8
node{mode: 100644, size: 11}
read(/two.txt, 4096 bytes, @+0) -> 11
Path for /two.txt: 11 --> 8
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
getattr(/two.txt) -> (0) {mode: 100644, size: 11}
Path for /two.txt: 11 --> 8
Copying /one.txt ...
Path for /one.txt: 11 --> 4
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
garbage mark node 7
garbage mark node 4
garbage mark node 8
garbage mark node 5
garbage mark node 4
garbage mark node 6
garbage mark node 3
garbage mark node 4
garbage mark node 1
garbage mark node 2
garbage mark node 0
+ cpy file 11 to 13
+ copy dir 4 -> looking for root 13
+ cpy file 4 to 14
+ copy dir 13 -> looking for root 13
I am root. ¯\_(ツ)_/¯
+ replace_ref 4 with 14
Path for /one.txt: 13 --> 14
Copy /one.txt 4 --> 14 == 14
 + directory_delete(one.txt)
unlink(/one.txt) -> 0
tree_lookup error
-2
DNE: /one.txt+ storage_stat(/)
+ storage_stat(/); inode 13
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 13
+ storage_stat(/)
+ storage_stat(/); inode 13
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'two.txt'
+ storage_stat(/two.txt)
+ storage_stat(/two.txt); inode 8
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 13
+ storage_stat(/abc.txt)
tree_lookup error
-2
getattr(/abc.txt) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /abc.txt+ storage_stat(/abc.txt)
tree_lookup error
-2
getattr(/abc.txt) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /abc.txt+ storage_stat(/abc.txt)
tree_lookup error
-2
getattr(/abc.txt) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /abc.txtCopying /two.txt ...
Path for /two.txt: 13 --> 8
garbage mark node 13
garbage mark node 8
garbage mark node 12
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
garbage mark node 7
garbage mark node 4
garbage mark node 8
garbage mark node 5
garbage mark node 4
garbage mark node 6
garbage mark node 3
garbage mark node 4
garbage mark node 1
garbage mark node 2
garbage mark node 0
+ cpy file 13 to 14
+ copy dir 8 -> looking for root 14
+ cpy file 8 to 15
+ copy dir 14 -> looking for root 14
I am root. ¯\_(ツ)_/¯
+ replace_ref 8 with 15
Path for /two.txt: 14 --> 15
Copy /two.txt 8 --> 15 == 15
+ dirent = 'abc.txt'
+ directory_put(..., abc.txt, 15) -> 0
node{mode: 40755, size: 60}
 + directory_delete(two.txt)
rename(/two.txt => /abc.txt) -> 0
tree_lookup error
-2
DNE: /two.txtPath for /abc.txt: 14 --> 15
+ storage_stat(/)
+ storage_stat(/); inode 14
node{mode: 40755, size: 60}
getattr(/) -> (0) {mode: 40755, size: 60}
Path for /: 14
+ storage_stat(/)
+ storage_stat(/); inode 14
node{mode: 40755, size: 60}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'abc.txt'
+ storage_stat(/abc.txt)
+ storage_stat(/abc.txt); inode 15
node{mode: 100644, size: 11}
readdir(/) -> 0
Path for /: 14
access(/abc.txt, 0000) -> 0
open(/abc.txt) -> 0
Path for /abc.txt: 14 --> 15
ioctl(/abc.txt, 21505, ...) -> -1
+ storage_stat(/abc.txt)
+ storage_stat(/abc.txt); inode 15
node{mode: 100644, size: 11}
getattr(/abc.txt) -> (0) {mode: 100644, size: 11}
Path for /abc.txt: 14 --> 15
In link 0:	-1
In link 1:	14
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/abc.txt); inode 15
node{mode: 100644, size: 11}
read(/abc.txt, 4096 bytes, @+0) -> 11
Path for /abc.txt: 14 --> 15
+ storage_stat(/abc.txt)
+ storage_stat(/abc.txt); inode 15
node{mode: 100644, size: 11}
getattr(/abc.txt) -> (0) {mode: 100644, size: 11}
Path for /abc.txt: 14 --> 15
+ storage_stat(/def.txt)
tree_lookup error
-2
getattr(/def.txt) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /def.txt+ storage_stat(/def.txt)
tree_lookup error
-2
getattr(/def.txt) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /def.txtCopying /abc.txt ...
Path for /abc.txt: 14 --> 15
garbage mark node 14
garbage mark node 15
garbage mark node 12
garbage mark node 13
garbage mark node 8
garbage mark node 12
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
garbage mark node 7
garbage mark node 4
garbage mark node 8
garbage mark node 5
garbage mark node 4
garbage mark node 6
garbage mark node 3
garbage mark node 4
garbage mark node 1
garbage mark node 2
+ cpy file 14 to 0
+ copy dir 15 -> looking for root 0
+ cpy file 15 to 16
+ copy dir 0 -> looking for root 0
I am root. ¯\_(ツ)_/¯
+ replace_ref 15 with 16
Path for /abc.txt: 0 --> 16
Copy /abc.txt 15 --> 16 == 16
Copying / ...
DNE: /garbage mark node 0
garbage mark node 16
garbage mark node 12
garbage mark node 14
garbage mark node 15
garbage mark node 12
garbage mark node 13
garbage mark node 8
garbage mark node 12
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
garbage mark node 7
garbage mark node 4
garbage mark node 8
garbage mark node 5
garbage mark node 4
garbage mark node 6
garbage mark node 3
garbage mark node 4
+ cpy file 0 to 1
+ copy dir 1 -> looking for root 1
I am root. ¯\_(ツ)_/¯
Path for /: 1
Copy / 0 --> 1 == 1
+ dirent = 'def.txt'
+ directory_put(..., def.txt, 16) -> 0
node{mode: 40755, size: 60}
link(/abc.txt => /def.txt) -> 0
Path for /abc.txt: 1 --> 16
Path for /def.txt: 1 --> 16
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 16
node{mode: 100644, size: 11}
getattr(/def.txt) -> (0) {mode: 100644, size: 11}
Path for /def.txt: 1 --> 16
access(/def.txt, 0000) -> 0
open(/def.txt) -> 0
Path for /def.txt: 1 --> 16
ioctl(/def.txt, 21505, ...) -> -1
In link 0:	0
In link 1:	14
In link 2:	1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/def.txt); inode 16
node{mode: 100644, size: 11}
read(/def.txt, 4096 bytes, @+0) -> 11
Path for /def.txt: 1 --> 16
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 16
node{mode: 100644, size: 11}
getattr(/def.txt) -> (0) {mode: 100644, size: 11}
Path for /def.txt: 1 --> 16
+ storage_stat(/abc.txt)
+ storage_stat(/abc.txt); inode 16
node{mode: 100644, size: 11}
getattr(/abc.txt) -> (0) {mode: 100644, size: 11}
Path for /abc.txt: 1 --> 16
Copying /abc.txt ...
Path for /abc.txt: 1 --> 16
garbage mark node 1
garbage mark node 16
garbage mark node 16
garbage mark node 12
garbage mark node 0
garbage mark node 16
garbage mark node 12
garbage mark node 14
garbage mark node 15
garbage mark node 12
garbage mark node 13
garbage mark node 8
garbage mark node 12
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
garbage mark node 7
garbage mark node 4
garbage mark node 8
garbage mark node 5
garbage mark node 4
garbage mark node 6
+ cpy file 1 to 2
+ copy dir 16 -> looking for root 2
+ cpy file 16 to 3
+ copy dir 2 -> looking for root 2
I am root. ¯\_(ツ)_/¯
+ replace_ref 16 with 3
+ replace_ref 16 with 3
Path for /abc.txt: 2 --> 3
Copy /abc.txt 16 --> 3 == 3
 + directory_delete(abc.txt)
unlink(/abc.txt) -> 0
tree_lookup error
-2
DNE: /abc.txtaccess(/def.txt, 0000) -> 0
open(/def.txt) -> 0
Path for /def.txt: 2 --> 3
ioctl(/def.txt, 21505, ...) -> -1
In link 0:	-1
In link 1:	14
In link 2:	1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/def.txt); inode 3
node{mode: 100644, size: 11}
read(/def.txt, 4096 bytes, @+0) -> 11
Path for /def.txt: 2 --> 3
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
getattr(/def.txt) -> (0) {mode: 100644, size: 11}
Path for /def.txt: 2 --> 3
+ storage_stat(/foo)
tree_lookup error
-2
getattr(/foo) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /fooCopying / ...
Path for /: 2
garbage mark node 2
garbage mark node 3
garbage mark node 12
garbage mark node 1
garbage mark node 16
garbage mark node 16
garbage mark node 12
garbage mark node 0
garbage mark node 16
garbage mark node 12
garbage mark node 14
garbage mark node 15
garbage mark node 12
garbage mark node 13
garbage mark node 8
garbage mark node 12
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
garbage mark node 7
garbage mark node 4
garbage mark node 8
+ cpy file 2 to 5
+ copy dir 5 -> looking for root 5
I am root. ¯\_(ツ)_/¯
Path for /: 5
Copy / 2 --> 5 == 5
+ mknod create /foo [0755] - #6
+ dirent = 'foo'
+ directory_put(..., foo, 6) -> 0
node{mode: 40755, size: 60}
mkdir(/foo) -> 0
Path for /foo: 5 --> 6
+ storage_stat(/foo)
+ storage_stat(/foo); inode 6
node{mode: 40755, size: 0}
getattr(/foo) -> (0) {mode: 40755, size: 0}
Path for /foo: 5 --> 6
+ storage_stat(/foo/abc.txt)
tree_lookup error
-2
getattr(/foo/abc.txt) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /foo/abc.txt+ storage_stat(/foo/abc.txt)
tree_lookup error
-2
getattr(/foo/abc.txt) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /foo/abc.txtaccess(/def.txt, 0000) -> 0
open(/def.txt) -> 0
Path for /def.txt: 5 --> 3
+ storage_stat(/foo/abc.txt)
tree_lookup error
-2
getattr(/foo/abc.txt) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /foo/abc.txtCopying /foo ...
Path for /foo: 5 --> 6
garbage mark node 5
garbage mark node 6
garbage mark node 3
garbage mark node 12
garbage mark node 2
garbage mark node 3
garbage mark node 12
garbage mark node 1
garbage mark node 16
garbage mark node 16
garbage mark node 12
garbage mark node 0
garbage mark node 16
garbage mark node 12
garbage mark node 14
garbage mark node 15
garbage mark node 12
garbage mark node 13
garbage mark node 8
garbage mark node 12
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
+ cpy file 5 to 7
+ copy dir 6 -> looking for root 7
+ cpy file 6 to 17
+ copy dir 7 -> looking for root 7
I am root. ¯\_(ツ)_/¯
+ replace_ref 6 with 17
Path for /foo: 7 --> 17
Copy /foo 6 --> 17 == 17
+ mknod create /foo/abc.txt [100644] - #18
+ dirent = 'abc.txt'
+ directory_put(..., abc.txt, 18) -> 0
node{mode: 40755, size: 20}
mknod(/foo/abc.txt, 100644) -> 0
Path for /foo/abc.txt: 7 --> 17 --> 18
+ storage_stat(/foo/abc.txt)
+ storage_stat(/foo/abc.txt); inode 18
node{mode: 100644, size: 0}
getattr(/foo/abc.txt) -> (0) {mode: 100644, size: 0}
Path for /foo/abc.txt: 7 --> 17 --> 18
access(/foo/abc.txt, 0000) -> 0
open(/foo/abc.txt) -> 0
Path for /foo/abc.txt: 7 --> 17 --> 18
In link 0:	-1
In link 1:	14
In link 2:	1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/def.txt); inode 3
node{mode: 100644, size: 11}
read(/def.txt, 4096 bytes, @+0) -> 11
Path for /def.txt: 7 --> 3
Copying /foo/abc.txt ...
Path for /foo/abc.txt: 7 --> 17 --> 18
garbage mark node 7
garbage mark node 17
garbage mark node 18
garbage mark node 3
garbage mark node 12
garbage mark node 5
garbage mark node 6
garbage mark node 3
garbage mark node 12
garbage mark node 2
garbage mark node 3
garbage mark node 12
garbage mark node 1
garbage mark node 16
garbage mark node 16
garbage mark node 12
garbage mark node 0
garbage mark node 16
garbage mark node 12
garbage mark node 14
garbage mark node 15
garbage mark node 12
garbage mark node 13
garbage mark node 8
garbage mark node 12
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
+ cpy file 7 to 9
+ copy dir 18 -> looking for root 9
+ cpy file 18 to 10
+ copy dir 17 -> looking for root 9
+ cpy file 17 to 19
+ copy dir 9 -> looking for root 9
I am root. ¯\_(ツ)_/¯
+ replace_ref 17 with 19
+ replace_ref 18 with 10
Path for /foo/abc.txt: 9 --> 19 --> 10
Copy /foo/abc.txt 18 --> 10 == 10
+ storage_write inum: 10
write(/foo/abc.txt, 11 bytes, @+0) -> 11
Path for /foo/abc.txt: 9 --> 19 --> 10
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
getattr(/def.txt) -> (0) {mode: 100644, size: 11}
Path for /def.txt: 9 --> 3
access(/foo/abc.txt, 0000) -> 0
open(/foo/abc.txt) -> 0
Path for /foo/abc.txt: 9 --> 19 --> 10
ioctl(/foo/abc.txt, 21505, ...) -> -1
+ storage_stat(/foo/abc.txt)
+ storage_stat(/foo/abc.txt); inode 10
node{mode: 100644, size: 11}
getattr(/foo/abc.txt) -> (0) {mode: 100644, size: 11}
Path for /foo/abc.txt: 9 --> 19 --> 10
In link 0:	19
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/foo/abc.txt); inode 10
node{mode: 100644, size: 11}
read(/foo/abc.txt, 4096 bytes, @+0) -> 11
Path for /foo/abc.txt: 9 --> 19 --> 10
+ storage_stat(/foo/abc.txt)
+ storage_stat(/foo/abc.txt); inode 10
node{mode: 100644, size: 11}
getattr(/foo/abc.txt) -> (0) {mode: 100644, size: 11}
Path for /foo/abc.txt: 9 --> 19 --> 10
+ storage_stat(/40k.txt)
tree_lookup error
-2
getattr(/40k.txt) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /40k.txtCopying / ...
Path for /: 9
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 7
garbage mark node 17
garbage mark node 18
garbage mark node 3
garbage mark node 12
garbage mark node 5
garbage mark node 6
garbage mark node 3
garbage mark node 12
garbage mark node 2
garbage mark node 3
garbage mark node 12
garbage mark node 1
garbage mark node 16
garbage mark node 16
garbage mark node 12
garbage mark node 0
garbage mark node 16
garbage mark node 12
garbage mark node 14
garbage mark node 15
garbage mark node 12
garbage mark node 13
garbage mark node 8
garbage mark node 12
+ cpy file 9 to 4
+ copy dir 4 -> looking for root 4
I am root. ¯\_(ツ)_/¯
Path for /: 4
Copy / 9 --> 4 == 4
+ mknod create /40k.txt [100644] - #11
+ dirent = '40k.txt'
+ directory_put(..., 40k.txt, 11) -> 0
node{mode: 40755, size: 80}
mknod(/40k.txt, 100644) -> 0
Path for /40k.txt: 4 --> 11
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 11
node{mode: 100644, size: 0}
getattr(/40k.txt) -> (0) {mode: 100644, size: 0}
Path for /40k.txt: 4 --> 11
access(/40k.txt, 0000) -> 0
open(/40k.txt) -> 0
Path for /40k.txt: 4 --> 11
ioctl(/40k.txt, 21505, ...) -> -1
Copying /40k.txt ...
Path for /40k.txt: 4 --> 11
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 7
garbage mark node 17
garbage mark node 18
garbage mark node 3
garbage mark node 12
garbage mark node 5
garbage mark node 6
garbage mark node 3
garbage mark node 12
garbage mark node 2
garbage mark node 3
garbage mark node 12
garbage mark node 1
garbage mark node 16
garbage mark node 16
garbage mark node 12
garbage mark node 0
garbage mark node 16
garbage mark node 12
garbage mark node 14
garbage mark node 15
garbage mark node 12
+ cpy file 4 to 8
+ copy dir 11 -> looking for root 8
+ cpy file 11 to 13
+ copy dir 8 -> looking for root 8
I am root. ¯\_(ツ)_/¯
+ replace_ref 11 with 13
Path for /40k.txt: 8 --> 13
Copy /40k.txt 11 --> 13 == 13
+ storage_write inum: 13
write(/40k.txt, 4096 bytes, @+0) -> 4096
Path for /40k.txt: 8 --> 13
Copying /40k.txt ...
Path for /40k.txt: 8 --> 13
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 7
garbage mark node 17
garbage mark node 18
garbage mark node 3
garbage mark node 12
garbage mark node 5
garbage mark node 6
garbage mark node 3
garbage mark node 12
garbage mark node 2
garbage mark node 3
garbage mark node 12
garbage mark node 1
garbage mark node 16
garbage mark node 16
garbage mark node 12
garbage mark node 0
garbage mark node 16
garbage mark node 12
+ cpy file 8 to 14
+ copy dir 13 -> looking for root 14
+ cpy file 13 to 15
+ copy dir 14 -> looking for root 14
I am root. ¯\_(ツ)_/¯
+ replace_ref 13 with 15
Path for /40k.txt: 14 --> 15
Copy /40k.txt 13 --> 15 == 15
+ storage_write inum: 15
write(/40k.txt, 4096 bytes, @+4096) -> 4096
Path for /40k.txt: 14 --> 15
Copying /40k.txt ...
Path for /40k.txt: 14 --> 15
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 15
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 7
garbage mark node 17
garbage mark node 18
garbage mark node 3
garbage mark node 12
garbage mark node 5
garbage mark node 6
garbage mark node 3
garbage mark node 12
garbage mark node 2
garbage mark node 3
garbage mark node 12
garbage mark node 1
garbage mark node 16
garbage mark node 16
garbage mark node 12
+ cpy file 14 to 0
+ copy dir 15 -> looking for root 0
+ cpy file 15 to 20
+ copy dir 0 -> looking for root 0
I am root. ¯\_(ツ)_/¯
+ replace_ref 15 with 20
Path for /40k.txt: 0 --> 20
Copy /40k.txt 15 --> 20 == 20
+ storage_write inum: 20
write(/40k.txt, 4096 bytes, @+8192) -> 4096
Path for /40k.txt: 0 --> 20
Copying /40k.txt ...
Path for /40k.txt: 0 --> 20
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 20
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 15
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 7
garbage mark node 17
garbage mark node 18
garbage mark node 3
garbage mark node 12
garbage mark node 5
garbage mark node 6
garbage mark node 3
garbage mark node 12
garbage mark node 2
garbage mark node 3
garbage mark node 12
+ cpy file 0 to 1
+ copy dir 20 -> looking for root 1
+ cpy file 20 to 16
+ copy dir 1 -> looking for root 1
I am root. ¯\_(ツ)_/¯
+ replace_ref 20 with 16
Path for /40k.txt: 1 --> 16
Copy /40k.txt 20 --> 16 == 16
+ storage_write inum: 16
write(/40k.txt, 4096 bytes, @+12288) -> 4096
Path for /40k.txt: 1 --> 16
Copying /40k.txt ...
Path for /40k.txt: 1 --> 16
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 16
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 20
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 15
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 7
garbage mark node 17
garbage mark node 18
garbage mark node 3
garbage mark node 12
garbage mark node 5
garbage mark node 6
garbage mark node 3
garbage mark node 12
+ cpy file 1 to 2
+ copy dir 16 -> looking for root 2
+ cpy file 16 to 21
+ copy dir 2 -> looking for root 2
I am root. ¯\_(ツ)_/¯
+ replace_ref 16 with 21
Path for /40k.txt: 2 --> 21
Copy /40k.txt 16 --> 21 == 21
+ storage_write inum: 21
write(/40k.txt, 4096 bytes, @+16384) -> 4096
Path for /40k.txt: 2 --> 21
Copying /40k.txt ...
Path for /40k.txt: 2 --> 21
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 21
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 16
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 20
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 15
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 7
garbage mark node 17
garbage mark node 18
garbage mark node 3
garbage mark node 12
+ cpy file 2 to 5
+ copy dir 21 -> looking for root 5
+ cpy file 21 to 6
+ copy dir 5 -> looking for root 5
I am root. ¯\_(ツ)_/¯
+ replace_ref 21 with 6
Path for /40k.txt: 5 --> 6
Copy /40k.txt 21 --> 6 == 6
+ storage_write inum: 6
write(/40k.txt, 4096 bytes, @+20480) -> 4096
Path for /40k.txt: 5 --> 6
Copying /40k.txt ...
Path for /40k.txt: 5 --> 6
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 6
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 21
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 16
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 20
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 15
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
+ cpy file 5 to 7
+ copy dir 6 -> looking for root 7
+ cpy file 6 to 17
+ copy dir 7 -> looking for root 7
I am root. ¯\_(ツ)_/¯
+ replace_ref 6 with 17
Path for /40k.txt: 7 --> 17
Copy /40k.txt 6 --> 17 == 17
+ storage_write inum: 17
write(/40k.txt, 4096 bytes, @+24576) -> 4096
Path for /40k.txt: 7 --> 17
Copying /40k.txt ...
Path for /40k.txt: 7 --> 17
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 17
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 6
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 21
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 16
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 20
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 15
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 11
+ cpy file 7 to 9
+ copy dir 17 -> looking for root 9
+ cpy file 17 to 18
+ copy dir 9 -> looking for root 9
I am root. ¯\_(ツ)_/¯
+ replace_ref 17 with 18
Path for /40k.txt: 9 --> 18
Copy /40k.txt 17 --> 18 == 18
+ storage_write inum: 18
write(/40k.txt, 4096 bytes, @+28672) -> 4096
Path for /40k.txt: 9 --> 18
Copying /40k.txt ...
Path for /40k.txt: 9 --> 18
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 18
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 17
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 6
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 21
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 16
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 20
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 15
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
+ cpy file 9 to 4
+ copy dir 18 -> looking for root 4
+ cpy file 18 to 11
+ copy dir 4 -> looking for root 4
I am root. ¯\_(ツ)_/¯
+ replace_ref 18 with 11
Path for /40k.txt: 4 --> 11
Copy /40k.txt 18 --> 11 == 11
+ storage_write inum: 11
write(/40k.txt, 4096 bytes, @+32768) -> 4096
Path for /40k.txt: 4 --> 11
Copying /40k.txt ...
Path for /40k.txt: 4 --> 11
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 18
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 17
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 6
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 21
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 16
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 20
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 15
+ cpy file 4 to 8
+ copy dir 11 -> looking for root 8
+ cpy file 11 to 13
+ copy dir 8 -> looking for root 8
I am root. ¯\_(ツ)_/¯
+ replace_ref 11 with 13
Path for /40k.txt: 8 --> 13
Copy /40k.txt 11 --> 13 == 13
+ storage_write inum: 13
write(/40k.txt, 3137 bytes, @+36864) -> 3137
Path for /40k.txt: 8 --> 13
access(/40k.txt, 0000) -> 0
open(/40k.txt) -> 0
Path for /40k.txt: 8 --> 13
ioctl(/40k.txt, 21505, ...) -> -1
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
getattr(/40k.txt) -> (0) {mode: 100644, size: 40001}
Path for /40k.txt: 8 --> 13
In link 0:	8
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/40k.txt); inode 13
node{mode: 100644, size: 40001}
read(/40k.txt, 16384 bytes, @+0) -> 16384
Path for /40k.txt: 8 --> 13
In link 0:	8
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/40k.txt); inode 13
node{mode: 100644, size: 40001}
read(/40k.txt, 24576 bytes, @+16384) -> 23617
Path for /40k.txt: 8 --> 13
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
getattr(/40k.txt) -> (0) {mode: 100644, size: 40001}
Path for /40k.txt: 8 --> 13
access(/40k.txt, 0000) -> 0
open(/40k.txt) -> 0
Path for /40k.txt: 8 --> 13
ioctl(/40k.txt, 21505, ...) -> -1
In link 0:	8
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/40k.txt); inode 13
node{mode: 100644, size: 40001}
read(/40k.txt, 12288 bytes, @+4096) -> 12288
Path for /40k.txt: 8 --> 13
access(/, 0001) -> 0
+ storage_stat(/dir1)
tree_lookup error
-2
getattr(/dir1) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /dir1Copying / ...
Path for /: 8
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 18
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 17
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 6
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 21
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 16
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 20
+ cpy file 8 to 14
+ copy dir 14 -> looking for root 14
I am root. ¯\_(ツ)_/¯
Path for /: 14
Copy / 8 --> 14 == 14
+ mknod create /dir1 [0755] - #15
+ dirent = 'dir1'
+ directory_put(..., dir1, 15) -> 0
node{mode: 40755, size: 100}
mkdir(/dir1) -> 0
Path for /dir1: 14 --> 15
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 15
node{mode: 40755, size: 0}
getattr(/dir1) -> (0) {mode: 40755, size: 0}
Path for /dir1: 14 --> 15
access(/dir1, 0001) -> 0
+ storage_stat(/dir1/dir2)
tree_lookup error
-2
getattr(/dir1/dir2) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /dir1/dir2Copying /dir1 ...
Path for /dir1: 14 --> 15
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 15
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 18
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 17
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 6
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 21
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 16
+ cpy file 14 to 0
+ copy dir 15 -> looking for root 0
+ cpy file 15 to 20
+ copy dir 0 -> looking for root 0
I am root. ¯\_(ツ)_/¯
+ replace_ref 15 with 20
Path for /dir1: 0 --> 20
Copy /dir1 15 --> 20 == 20
+ mknod create /dir1/dir2 [0755] - #22
+ dirent = 'dir2'
+ directory_put(..., dir2, 22) -> 0
node{mode: 40755, size: 20}
mkdir(/dir1/dir2) -> 0
Path for /dir1/dir2: 0 --> 20 --> 22
+ storage_stat(/dir1/dir2)
+ storage_stat(/dir1/dir2); inode 22
node{mode: 40755, size: 0}
getattr(/dir1/dir2) -> (0) {mode: 40755, size: 0}
Path for /dir1/dir2: 0 --> 20 --> 22
access(/dir1/dir2, 0001) -> 0
+ storage_stat(/dir1/dir2/dir3)
tree_lookup error
-2
getattr(/dir1/dir2/dir3) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /dir1/dir2/dir3Copying /dir1/dir2 ...
Path for /dir1/dir2: 0 --> 20 --> 22
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 20
garbage mark node 22
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 15
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 18
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 17
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 6
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 21
+ cpy file 0 to 1
+ copy dir 22 -> looking for root 1
+ cpy file 22 to 16
+ copy dir 20 -> looking for root 1
+ cpy file 20 to 23
+ copy dir 1 -> looking for root 1
I am root. ¯\_(ツ)_/¯
+ replace_ref 20 with 23
+ replace_ref 22 with 16
Path for /dir1/dir2: 1 --> 23 --> 16
Copy /dir1/dir2 22 --> 16 == 16
+ mknod create /dir1/dir2/dir3 [0755] - #24
+ dirent = 'dir3'
+ directory_put(..., dir3, 24) -> 0
node{mode: 40755, size: 20}
mkdir(/dir1/dir2/dir3) -> 0
Path for /dir1/dir2/dir3: 1 --> 23 --> 16 --> 24
+ storage_stat(/dir1/dir2/dir3)
+ storage_stat(/dir1/dir2/dir3); inode 24
node{mode: 40755, size: 0}
getattr(/dir1/dir2/dir3) -> (0) {mode: 40755, size: 0}
Path for /dir1/dir2/dir3: 1 --> 23 --> 16 --> 24
access(/dir1/dir2/dir3, 0001) -> 0
+ storage_stat(/dir1/dir2/dir3/dir4)
tree_lookup error
-2
getattr(/dir1/dir2/dir3/dir4) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /dir1/dir2/dir3/dir4Copying /dir1/dir2/dir3 ...
Path for /dir1/dir2/dir3: 1 --> 23 --> 16 --> 24
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 23
garbage mark node 16
garbage mark node 24
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 20
garbage mark node 22
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 15
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 18
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 17
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 6
+ cpy file 1 to 2
+ copy dir 24 -> looking for root 2
+ cpy file 24 to 21
+ copy dir 16 -> looking for root 2
+ cpy file 16 to 25
+ copy dir 23 -> looking for root 2
+ cpy file 23 to 26
+ copy dir 2 -> looking for root 2
I am root. ¯\_(ツ)_/¯
+ replace_ref 23 with 26
+ replace_ref 16 with 25
+ replace_ref 24 with 21
Path for /dir1/dir2/dir3: 2 --> 26 --> 25 --> 21
Copy /dir1/dir2/dir3 24 --> 21 == 21
+ mknod create /dir1/dir2/dir3/dir4 [0755] - #27
+ dirent = 'dir4'
+ directory_put(..., dir4, 27) -> 0
node{mode: 40755, size: 20}
mkdir(/dir1/dir2/dir3/dir4) -> 0
Path for /dir1/dir2/dir3/dir4: 2 --> 26 --> 25 --> 21 --> 27
+ storage_stat(/dir1/dir2/dir3/dir4)
+ storage_stat(/dir1/dir2/dir3/dir4); inode 27
node{mode: 40755, size: 0}
getattr(/dir1/dir2/dir3/dir4) -> (0) {mode: 40755, size: 0}
Path for /dir1/dir2/dir3/dir4: 2 --> 26 --> 25 --> 21 --> 27
access(/dir1/dir2/dir3/dir4, 0001) -> 0
+ storage_stat(/dir1/dir2/dir3/dir4/dir5)
tree_lookup error
-2
getattr(/dir1/dir2/dir3/dir4/dir5) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /dir1/dir2/dir3/dir4/dir5Copying /dir1/dir2/dir3/dir4 ...
Path for /dir1/dir2/dir3/dir4: 2 --> 26 --> 25 --> 21 --> 27
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 26
garbage mark node 25
garbage mark node 21
garbage mark node 27
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 23
garbage mark node 16
garbage mark node 24
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 20
garbage mark node 22
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 15
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 18
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 17
+ cpy file 2 to 5
+ copy dir 27 -> looking for root 5
+ cpy file 27 to 6
+ copy dir 21 -> looking for root 5
+ cpy file 21 to 28
+ copy dir 25 -> looking for root 5
+ cpy file 25 to 29
+ copy dir 26 -> looking for root 5
+ cpy file 26 to 30
+ copy dir 5 -> looking for root 5
I am root. ¯\_(ツ)_/¯
+ replace_ref 26 with 30
+ replace_ref 25 with 29
+ replace_ref 21 with 28
+ replace_ref 27 with 6
Path for /dir1/dir2/dir3/dir4: 5 --> 30 --> 29 --> 28 --> 6
Copy /dir1/dir2/dir3/dir4 27 --> 6 == 6
+ mknod create /dir1/dir2/dir3/dir4/dir5 [0755] - #31
+ dirent = 'dir5'
+ directory_put(..., dir5, 31) -> 0
node{mode: 40755, size: 20}
mkdir(/dir1/dir2/dir3/dir4/dir5) -> 0
Path for /dir1/dir2/dir3/dir4/dir5: 5 --> 30 --> 29 --> 28 --> 6 --> 31
+ storage_stat(/dir1/dir2/dir3/dir4/dir5)
+ storage_stat(/dir1/dir2/dir3/dir4/dir5); inode 31
node{mode: 40755, size: 0}
getattr(/dir1/dir2/dir3/dir4/dir5) -> (0) {mode: 40755, size: 0}
Path for /dir1/dir2/dir3/dir4/dir5: 5 --> 30 --> 29 --> 28 --> 6 --> 31
+ storage_stat(/dir1/dir2/dir3/dir4/dir5/hello.txt)
tree_lookup error
-2
getattr(/dir1/dir2/dir3/dir4/dir5/hello.txt) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /dir1/dir2/dir3/dir4/dir5/hello.txtCopying /dir1/dir2/dir3/dir4/dir5 ...
Path for /dir1/dir2/dir3/dir4/dir5: 5 --> 30 --> 29 --> 28 --> 6 --> 31
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 30
garbage mark node 29
garbage mark node 28
garbage mark node 6
garbage mark node 31
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 26
garbage mark node 25
garbage mark node 21
garbage mark node 27
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 23
garbage mark node 16
garbage mark node 24
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 20
garbage mark node 22
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 15
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 18
+ cpy file 5 to 7
+ copy dir 31 -> looking for root 7
+ cpy file 31 to 17
+ copy dir 6 -> looking for root 7
+ cpy file 6 to 32
+ copy dir 28 -> looking for root 7
+ cpy file 28 to 33
+ copy dir 29 -> looking for root 7
+ cpy file 29 to 34
+ copy dir 30 -> looking for root 7
+ cpy file 30 to 35
+ copy dir 7 -> looking for root 7
I am root. ¯\_(ツ)_/¯
+ replace_ref 30 with 35
+ replace_ref 29 with 34
+ replace_ref 28 with 33
+ replace_ref 6 with 32
+ replace_ref 31 with 17
Path for /dir1/dir2/dir3/dir4/dir5: 7 --> 35 --> 34 --> 33 --> 32 --> 17
Copy /dir1/dir2/dir3/dir4/dir5 31 --> 17 == 17
+ mknod create /dir1/dir2/dir3/dir4/dir5/hello.txt [100644] - #36
+ dirent = 'hello.txt'
+ directory_put(..., hello.txt, 36) -> 0
node{mode: 40755, size: 20}
mknod(/dir1/dir2/dir3/dir4/dir5/hello.txt, 100644) -> 0
Path for /dir1/dir2/dir3/dir4/dir5/hello.txt: 7 --> 35 --> 34 --> 33 --> 32 --> 17 --> 36
+ storage_stat(/dir1/dir2/dir3/dir4/dir5/hello.txt)
+ storage_stat(/dir1/dir2/dir3/dir4/dir5/hello.txt); inode 36
node{mode: 100644, size: 0}
getattr(/dir1/dir2/dir3/dir4/dir5/hello.txt) -> (0) {mode: 100644, size: 0}
Path for /dir1/dir2/dir3/dir4/dir5/hello.txt: 7 --> 35 --> 34 --> 33 --> 32 --> 17 --> 36
access(/dir1/dir2/dir3/dir4/dir5/hello.txt, 0000) -> 0
open(/dir1/dir2/dir3/dir4/dir5/hello.txt) -> 0
Path for /dir1/dir2/dir3/dir4/dir5/hello.txt: 7 --> 35 --> 34 --> 33 --> 32 --> 17 --> 36
ioctl(/dir1/dir2/dir3/dir4/dir5/hello.txt, 21505, ...) -> -1
Copying /dir1/dir2/dir3/dir4/dir5/hello.txt ...
Path for /dir1/dir2/dir3/dir4/dir5/hello.txt: 7 --> 35 --> 34 --> 33 --> 32 --> 17 --> 36
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 35
garbage mark node 34
garbage mark node 33
garbage mark node 32
garbage mark node 17
garbage mark node 36
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 30
garbage mark node 29
garbage mark node 28
garbage mark node 6
garbage mark node 31
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 26
garbage mark node 25
garbage mark node 21
garbage mark node 27
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 23
garbage mark node 16
garbage mark node 24
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 20
garbage mark node 22
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 15
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 11
+ cpy file 7 to 9
+ copy dir 36 -> looking for root 9
+ cpy file 36 to 18
+ copy dir 17 -> looking for root 9
+ cpy file 17 to 37
+ copy dir 32 -> looking for root 9
+ cpy file 32 to 38
+ copy dir 33 -> looking for root 9
+ cpy file 33 to 39
+ copy dir 34 -> looking for root 9
+ cpy file 34 to 40
+ copy dir 35 -> looking for root 9
+ cpy file 35 to 41
+ copy dir 9 -> looking for root 9
I am root. ¯\_(ツ)_/¯
+ replace_ref 35 with 41
+ replace_ref 34 with 40
+ replace_ref 33 with 39
+ replace_ref 32 with 38
+ replace_ref 17 with 37
+ replace_ref 36 with 18
Path for /dir1/dir2/dir3/dir4/dir5/hello.txt: 9 --> 41 --> 40 --> 39 --> 38 --> 37 --> 18
Copy /dir1/dir2/dir3/dir4/dir5/hello.txt 36 --> 18 == 18
+ storage_write inum: 18
write(/dir1/dir2/dir3/dir4/dir5/hello.txt, 12 bytes, @+0) -> 12
Path for /dir1/dir2/dir3/dir4/dir5/hello.txt: 9 --> 41 --> 40 --> 39 --> 38 --> 37 --> 18
access(/dir1/dir2/dir3/dir4/dir5/hello.txt, 0000) -> 0
open(/dir1/dir2/dir3/dir4/dir5/hello.txt) -> 0
Path for /dir1/dir2/dir3/dir4/dir5/hello.txt: 9 --> 41 --> 40 --> 39 --> 38 --> 37 --> 18
ioctl(/dir1/dir2/dir3/dir4/dir5/hello.txt, 21505, ...) -> -1
+ storage_stat(/dir1/dir2/dir3/dir4/dir5/hello.txt)
+ storage_stat(/dir1/dir2/dir3/dir4/dir5/hello.txt); inode 18
node{mode: 100644, size: 12}
getattr(/dir1/dir2/dir3/dir4/dir5/hello.txt) -> (0) {mode: 100644, size: 12}
Path for /dir1/dir2/dir3/dir4/dir5/hello.txt: 9 --> 41 --> 40 --> 39 --> 38 --> 37 --> 18
In link 0:	37
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/dir1/dir2/dir3/dir4/dir5/hello.txt); inode 18
node{mode: 100644, size: 12}
read(/dir1/dir2/dir3/dir4/dir5/hello.txt, 4096 bytes, @+0) -> 12
Path for /dir1/dir2/dir3/dir4/dir5/hello.txt: 9 --> 41 --> 40 --> 39 --> 38 --> 37 --> 18
+ storage_stat(/dir1/dir2/dir3/dir4/dir5/hello.txt)
+ storage_stat(/dir1/dir2/dir3/dir4/dir5/hello.txt); inode 18
node{mode: 100644, size: 12}
getattr(/dir1/dir2/dir3/dir4/dir5/hello.txt) -> (0) {mode: 100644, size: 12}
Path for /dir1/dir2/dir3/dir4/dir5/hello.txt: 9 --> 41 --> 40 --> 39 --> 38 --> 37 --> 18
+ storage_stat(/numbers)
tree_lookup error
-2
getattr(/numbers) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbersCopying / ...
Path for /: 9
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 35
garbage mark node 34
garbage mark node 33
garbage mark node 32
garbage mark node 17
garbage mark node 36
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 30
garbage mark node 29
garbage mark node 28
garbage mark node 6
garbage mark node 31
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 26
garbage mark node 25
garbage mark node 21
garbage mark node 27
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 23
garbage mark node 16
garbage mark node 24
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 20
garbage mark node 22
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 15
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
+ cpy file 9 to 4
+ copy dir 4 -> looking for root 4
I am root. ¯\_(ツ)_/¯
Path for /: 4
Copy / 9 --> 4 == 4
+ mknod create /numbers [0755] - #11
+ dirent = 'numbers'
+ directory_put(..., numbers, 11) -> 0
node{mode: 40755, size: 120}
mkdir(/numbers) -> 0
Path for /numbers: 4 --> 11
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 11
node{mode: 40755, size: 0}
getattr(/numbers) -> (0) {mode: 40755, size: 0}
Path for /numbers: 4 --> 11
+ storage_stat(/numbers/1.num)
tree_lookup error
-2
getattr(/numbers/1.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/1.numCopying /numbers ...
Path for /numbers: 4 --> 11
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 35
garbage mark node 34
garbage mark node 33
garbage mark node 32
garbage mark node 17
garbage mark node 36
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 30
garbage mark node 29
garbage mark node 28
garbage mark node 6
garbage mark node 31
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 26
garbage mark node 25
garbage mark node 21
garbage mark node 27
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 23
garbage mark node 16
garbage mark node 24
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 20
garbage mark node 22
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 15
+ cpy file 4 to 8
+ copy dir 11 -> looking for root 8
+ cpy file 11 to 42
+ copy dir 8 -> looking for root 8
I am root. ¯\_(ツ)_/¯
+ replace_ref 11 with 42
Path for /numbers: 8 --> 42
Copy /numbers 11 --> 42 == 42
+ mknod create /numbers/1.num [100644] - #43
+ dirent = '1.num'
+ directory_put(..., 1.num, 43) -> 0
node{mode: 40755, size: 20}
mknod(/numbers/1.num, 100644) -> 0
Path for /numbers/1.num: 8 --> 42 --> 43
+ storage_stat(/numbers/1.num)
+ storage_stat(/numbers/1.num); inode 43
node{mode: 100644, size: 0}
getattr(/numbers/1.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/1.num: 8 --> 42 --> 43
access(/numbers/1.num, 0000) -> 0
open(/numbers/1.num) -> 0
Path for /numbers/1.num: 8 --> 42 --> 43
ioctl(/numbers/1.num, 21505, ...) -> -1
Copying /numbers/1.num ...
Path for /numbers/1.num: 8 --> 42 --> 43
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 43
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 35
garbage mark node 34
garbage mark node 33
garbage mark node 32
garbage mark node 17
garbage mark node 36
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 30
garbage mark node 29
garbage mark node 28
garbage mark node 6
garbage mark node 31
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 26
garbage mark node 25
garbage mark node 21
garbage mark node 27
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 23
garbage mark node 16
garbage mark node 24
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 20
garbage mark node 22
+ cpy file 8 to 14
+ copy dir 43 -> looking for root 14
+ cpy file 43 to 15
+ copy dir 42 -> looking for root 14
+ cpy file 42 to 44
+ copy dir 14 -> looking for root 14
I am root. ¯\_(ツ)_/¯
+ replace_ref 42 with 44
+ replace_ref 43 with 15
Path for /numbers/1.num: 14 --> 44 --> 15
Copy /numbers/1.num 43 --> 15 == 15
+ storage_write inum: 15
write(/numbers/1.num, 2 bytes, @+0) -> 2
Path for /numbers/1.num: 14 --> 44 --> 15
+ storage_stat(/numbers/2.num)
tree_lookup error
-2
getattr(/numbers/2.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/2.numCopying /numbers ...
Path for /numbers: 14 --> 44
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 43
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 35
garbage mark node 34
garbage mark node 33
garbage mark node 32
garbage mark node 17
garbage mark node 36
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 30
garbage mark node 29
garbage mark node 28
garbage mark node 6
garbage mark node 31
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 26
garbage mark node 25
garbage mark node 21
garbage mark node 27
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 23
garbage mark node 16
garbage mark node 24
+ cpy file 14 to 0
+ copy dir 44 -> looking for root 0
+ cpy file 44 to 20
+ copy dir 0 -> looking for root 0
I am root. ¯\_(ツ)_/¯
+ replace_ref 44 with 20
Path for /numbers: 0 --> 20
Copy /numbers 44 --> 20 == 20
+ mknod create /numbers/2.num [100644] - #22
+ dirent = '2.num'
+ directory_put(..., 2.num, 22) -> 0
node{mode: 40755, size: 40}
mknod(/numbers/2.num, 100644) -> 0
Path for /numbers/2.num: 0 --> 20 --> 22
+ storage_stat(/numbers/2.num)
+ storage_stat(/numbers/2.num); inode 22
node{mode: 100644, size: 0}
getattr(/numbers/2.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/2.num: 0 --> 20 --> 22
access(/numbers/2.num, 0000) -> 0
open(/numbers/2.num) -> 0
Path for /numbers/2.num: 0 --> 20 --> 22
ioctl(/numbers/2.num, 21505, ...) -> -1
Copying /numbers/2.num ...
Path for /numbers/2.num: 0 --> 20 --> 22
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 20
garbage mark node 15
garbage mark node 22
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 43
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 35
garbage mark node 34
garbage mark node 33
garbage mark node 32
garbage mark node 17
garbage mark node 36
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 30
garbage mark node 29
garbage mark node 28
garbage mark node 6
garbage mark node 31
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 26
garbage mark node 25
garbage mark node 21
garbage mark node 27
+ cpy file 0 to 1
+ copy dir 22 -> looking for root 1
+ cpy file 22 to 16
+ copy dir 20 -> looking for root 1
+ cpy file 20 to 23
+ copy dir 1 -> looking for root 1
I am root. ¯\_(ツ)_/¯
+ replace_ref 20 with 23
+ replace_ref 22 with 16
Path for /numbers/2.num: 1 --> 23 --> 16
Copy /numbers/2.num 22 --> 16 == 16
+ storage_write inum: 16
write(/numbers/2.num, 2 bytes, @+0) -> 2
Path for /numbers/2.num: 1 --> 23 --> 16
+ storage_stat(/numbers/3.num)
tree_lookup error
-2
getattr(/numbers/3.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/3.numCopying /numbers ...
Path for /numbers: 1 --> 23
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 23
garbage mark node 15
garbage mark node 16
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 20
garbage mark node 15
garbage mark node 22
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 43
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 35
garbage mark node 34
garbage mark node 33
garbage mark node 32
garbage mark node 17
garbage mark node 36
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 30
garbage mark node 29
garbage mark node 28
garbage mark node 6
garbage mark node 31
+ cpy file 1 to 2
+ copy dir 23 -> looking for root 2
+ cpy file 23 to 21
+ copy dir 2 -> looking for root 2
I am root. ¯\_(ツ)_/¯
+ replace_ref 23 with 21
Path for /numbers: 2 --> 21
Copy /numbers 23 --> 21 == 21
+ mknod create /numbers/3.num [100644] - #24
+ dirent = '3.num'
+ directory_put(..., 3.num, 24) -> 0
node{mode: 40755, size: 60}
mknod(/numbers/3.num, 100644) -> 0
Path for /numbers/3.num: 2 --> 21 --> 24
+ storage_stat(/numbers/3.num)
+ storage_stat(/numbers/3.num); inode 24
node{mode: 100644, size: 0}
getattr(/numbers/3.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/3.num: 2 --> 21 --> 24
access(/numbers/3.num, 0000) -> 0
open(/numbers/3.num) -> 0
Path for /numbers/3.num: 2 --> 21 --> 24
ioctl(/numbers/3.num, 21505, ...) -> -1
Copying /numbers/3.num ...
Path for /numbers/3.num: 2 --> 21 --> 24
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 21
garbage mark node 15
garbage mark node 16
garbage mark node 24
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 23
garbage mark node 15
garbage mark node 16
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 20
garbage mark node 15
garbage mark node 22
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 43
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 35
garbage mark node 34
garbage mark node 33
garbage mark node 32
garbage mark node 17
garbage mark node 36
+ cpy file 2 to 5
+ copy dir 24 -> looking for root 5
+ cpy file 24 to 6
+ copy dir 21 -> looking for root 5
+ cpy file 21 to 25
+ copy dir 5 -> looking for root 5
I am root. ¯\_(ツ)_/¯
+ replace_ref 21 with 25
+ replace_ref 24 with 6
Path for /numbers/3.num: 5 --> 25 --> 6
Copy /numbers/3.num 24 --> 6 == 6
+ storage_write inum: 6
write(/numbers/3.num, 2 bytes, @+0) -> 2
Path for /numbers/3.num: 5 --> 25 --> 6
+ storage_stat(/numbers/4.num)
tree_lookup error
-2
getattr(/numbers/4.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/4.numCopying /numbers ...
Path for /numbers: 5 --> 25
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 25
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 21
garbage mark node 15
garbage mark node 16
garbage mark node 24
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 23
garbage mark node 15
garbage mark node 16
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 20
garbage mark node 15
garbage mark node 22
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 43
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
+ cpy file 5 to 7
+ copy dir 25 -> looking for root 7
+ cpy file 25 to 17
+ copy dir 7 -> looking for root 7
I am root. ¯\_(ツ)_/¯
+ replace_ref 25 with 17
Path for /numbers: 7 --> 17
Copy /numbers 25 --> 17 == 17
+ mknod create /numbers/4.num [100644] - #26
+ dirent = '4.num'
+ directory_put(..., 4.num, 26) -> 0
node{mode: 40755, size: 80}
mknod(/numbers/4.num, 100644) -> 0
Path for /numbers/4.num: 7 --> 17 --> 26
+ storage_stat(/numbers/4.num)
+ storage_stat(/numbers/4.num); inode 26
node{mode: 100644, size: 0}
getattr(/numbers/4.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/4.num: 7 --> 17 --> 26
access(/numbers/4.num, 0000) -> 0
open(/numbers/4.num) -> 0
Path for /numbers/4.num: 7 --> 17 --> 26
ioctl(/numbers/4.num, 21505, ...) -> -1
Copying /numbers/4.num ...
Path for /numbers/4.num: 7 --> 17 --> 26
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 17
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 26
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 25
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 21
garbage mark node 15
garbage mark node 16
garbage mark node 24
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 23
garbage mark node 15
garbage mark node 16
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 20
garbage mark node 15
garbage mark node 22
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 43
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 11
+ cpy file 7 to 9
+ copy dir 26 -> looking for root 9
+ cpy file 26 to 27
+ copy dir 17 -> looking for root 9
+ cpy file 17 to 28
+ copy dir 9 -> looking for root 9
I am root. ¯\_(ツ)_/¯
+ replace_ref 17 with 28
+ replace_ref 26 with 27
Path for /numbers/4.num: 9 --> 28 --> 27
Copy /numbers/4.num 26 --> 27 == 27
+ storage_write inum: 27
write(/numbers/4.num, 2 bytes, @+0) -> 2
Path for /numbers/4.num: 9 --> 28 --> 27
+ storage_stat(/numbers/5.num)
tree_lookup error
-2
getattr(/numbers/5.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/5.numCopying /numbers ...
Path for /numbers: 9 --> 28
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 28
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 17
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 26
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 25
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 21
garbage mark node 15
garbage mark node 16
garbage mark node 24
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 23
garbage mark node 15
garbage mark node 16
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 20
garbage mark node 15
garbage mark node 22
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 43
+ cpy file 9 to 4
+ copy dir 28 -> looking for root 4
+ cpy file 28 to 11
+ copy dir 4 -> looking for root 4
I am root. ¯\_(ツ)_/¯
+ replace_ref 28 with 11
Path for /numbers: 4 --> 11
Copy /numbers 28 --> 11 == 11
+ mknod create /numbers/5.num [100644] - #29
+ dirent = '5.num'
+ directory_put(..., 5.num, 29) -> 0
node{mode: 40755, size: 100}
mknod(/numbers/5.num, 100644) -> 0
Path for /numbers/5.num: 4 --> 11 --> 29
+ storage_stat(/numbers/5.num)
+ storage_stat(/numbers/5.num); inode 29
node{mode: 100644, size: 0}
getattr(/numbers/5.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/5.num: 4 --> 11 --> 29
access(/numbers/5.num, 0000) -> 0
open(/numbers/5.num) -> 0
Path for /numbers/5.num: 4 --> 11 --> 29
ioctl(/numbers/5.num, 21505, ...) -> -1
Copying /numbers/5.num ...
Path for /numbers/5.num: 4 --> 11 --> 29
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 11
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 29
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 28
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 17
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 26
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 25
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 21
garbage mark node 15
garbage mark node 16
garbage mark node 24
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 23
garbage mark node 15
garbage mark node 16
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 20
garbage mark node 15
garbage mark node 22
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
+ cpy file 4 to 8
+ copy dir 29 -> looking for root 8
+ cpy file 29 to 30
+ copy dir 11 -> looking for root 8
+ cpy file 11 to 31
+ copy dir 8 -> looking for root 8
I am root. ¯\_(ツ)_/¯
+ replace_ref 11 with 31
+ replace_ref 29 with 30
Path for /numbers/5.num: 8 --> 31 --> 30
Copy /numbers/5.num 29 --> 30 == 30
+ storage_write inum: 30
write(/numbers/5.num, 2 bytes, @+0) -> 2
Path for /numbers/5.num: 8 --> 31 --> 30
+ storage_stat(/numbers/6.num)
tree_lookup error
-2
getattr(/numbers/6.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/6.numCopying /numbers ...
Path for /numbers: 8 --> 31
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 31
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 11
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 29
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 28
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 17
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 26
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 25
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 21
garbage mark node 15
garbage mark node 16
garbage mark node 24
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 23
garbage mark node 15
garbage mark node 16
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 20
garbage mark node 15
garbage mark node 22
+ cpy file 8 to 14
+ copy dir 31 -> looking for root 14
+ cpy file 31 to 32
+ copy dir 14 -> looking for root 14
I am root. ¯\_(ツ)_/¯
+ replace_ref 31 with 32
Path for /numbers: 14 --> 32
Copy /numbers 31 --> 32 == 32
+ mknod create /numbers/6.num [100644] - #33
+ dirent = '6.num'
+ directory_put(..., 6.num, 33) -> 0
node{mode: 40755, size: 120}
mknod(/numbers/6.num, 100644) -> 0
Path for /numbers/6.num: 14 --> 32 --> 33
+ storage_stat(/numbers/6.num)
+ storage_stat(/numbers/6.num); inode 33
node{mode: 100644, size: 0}
getattr(/numbers/6.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/6.num: 14 --> 32 --> 33
access(/numbers/6.num, 0000) -> 0
open(/numbers/6.num) -> 0
Path for /numbers/6.num: 14 --> 32 --> 33
ioctl(/numbers/6.num, 21505, ...) -> -1
Copying /numbers/6.num ...
Path for /numbers/6.num: 14 --> 32 --> 33
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 32
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 33
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 31
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 11
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 29
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 28
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 17
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 26
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 25
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 21
garbage mark node 15
garbage mark node 16
garbage mark node 24
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 23
garbage mark node 15
garbage mark node 16
+ cpy file 14 to 0
+ copy dir 33 -> looking for root 0
+ cpy file 33 to 20
+ copy dir 32 -> looking for root 0
+ cpy file 32 to 22
+ copy dir 0 -> looking for root 0
I am root. ¯\_(ツ)_/¯
+ replace_ref 32 with 22
+ replace_ref 33 with 20
Path for /numbers/6.num: 0 --> 22 --> 20
Copy /numbers/6.num 33 --> 20 == 20
+ storage_write inum: 20
write(/numbers/6.num, 2 bytes, @+0) -> 2
Path for /numbers/6.num: 0 --> 22 --> 20
+ storage_stat(/numbers/7.num)
tree_lookup error
-2
getattr(/numbers/7.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/7.numCopying /numbers ...
Path for /numbers: 0 --> 22
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 22
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 32
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 33
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 31
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 11
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 29
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 28
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 17
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 26
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 25
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 21
garbage mark node 15
garbage mark node 16
garbage mark node 24
+ cpy file 0 to 1
+ copy dir 22 -> looking for root 1
+ cpy file 22 to 23
+ copy dir 1 -> looking for root 1
I am root. ¯\_(ツ)_/¯
+ replace_ref 22 with 23
Path for /numbers: 1 --> 23
Copy /numbers 22 --> 23 == 23
+ mknod create /numbers/7.num [100644] - #34
+ dirent = '7.num'
+ directory_put(..., 7.num, 34) -> 0
node{mode: 40755, size: 140}
mknod(/numbers/7.num, 100644) -> 0
Path for /numbers/7.num: 1 --> 23 --> 34
+ storage_stat(/numbers/7.num)
+ storage_stat(/numbers/7.num); inode 34
node{mode: 100644, size: 0}
getattr(/numbers/7.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/7.num: 1 --> 23 --> 34
access(/numbers/7.num, 0000) -> 0
open(/numbers/7.num) -> 0
Path for /numbers/7.num: 1 --> 23 --> 34
ioctl(/numbers/7.num, 21505, ...) -> -1
Copying /numbers/7.num ...
Path for /numbers/7.num: 1 --> 23 --> 34
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 23
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 34
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 22
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 32
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 33
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 31
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 11
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 29
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 28
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 17
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 26
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 25
garbage mark node 15
garbage mark node 16
garbage mark node 6
+ cpy file 1 to 2
+ copy dir 34 -> looking for root 2
+ cpy file 34 to 21
+ copy dir 23 -> looking for root 2
+ cpy file 23 to 24
+ copy dir 2 -> looking for root 2
I am root. ¯\_(ツ)_/¯
+ replace_ref 23 with 24
+ replace_ref 34 with 21
Path for /numbers/7.num: 2 --> 24 --> 21
Copy /numbers/7.num 34 --> 21 == 21
+ storage_write inum: 21
write(/numbers/7.num, 2 bytes, @+0) -> 2
Path for /numbers/7.num: 2 --> 24 --> 21
+ storage_stat(/numbers/8.num)
tree_lookup error
-2
getattr(/numbers/8.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/8.numCopying /numbers ...
Path for /numbers: 2 --> 24
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 24
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 23
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 34
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 22
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 32
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 33
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 31
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 11
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 29
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 28
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 17
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 26
+ cpy file 2 to 5
+ copy dir 24 -> looking for root 5
+ cpy file 24 to 25
+ copy dir 5 -> looking for root 5
I am root. ¯\_(ツ)_/¯
+ replace_ref 24 with 25
Path for /numbers: 5 --> 25
Copy /numbers 24 --> 25 == 25
+ mknod create /numbers/8.num [100644] - #35
+ dirent = '8.num'
+ directory_put(..., 8.num, 35) -> 0
node{mode: 40755, size: 160}
mknod(/numbers/8.num, 100644) -> 0
Path for /numbers/8.num: 5 --> 25 --> 35
+ storage_stat(/numbers/8.num)
+ storage_stat(/numbers/8.num); inode 35
node{mode: 100644, size: 0}
getattr(/numbers/8.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/8.num: 5 --> 25 --> 35
access(/numbers/8.num, 0000) -> 0
open(/numbers/8.num) -> 0
Path for /numbers/8.num: 5 --> 25 --> 35
ioctl(/numbers/8.num, 21505, ...) -> -1
Copying /numbers/8.num ...
Path for /numbers/8.num: 5 --> 25 --> 35
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 25
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 35
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 24
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 23
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 34
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 22
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 32
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 33
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 31
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 11
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 29
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 28
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
+ cpy file 5 to 7
+ copy dir 35 -> looking for root 7
+ cpy file 35 to 17
+ copy dir 25 -> looking for root 7
+ cpy file 25 to 26
+ copy dir 7 -> looking for root 7
I am root. ¯\_(ツ)_/¯
+ replace_ref 25 with 26
+ replace_ref 35 with 17
Path for /numbers/8.num: 7 --> 26 --> 17
Copy /numbers/8.num 35 --> 17 == 17
+ storage_write inum: 17
write(/numbers/8.num, 2 bytes, @+0) -> 2
Path for /numbers/8.num: 7 --> 26 --> 17
+ storage_stat(/numbers/9.num)
tree_lookup error
-2
getattr(/numbers/9.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/9.numCopying /numbers ...
Path for /numbers: 7 --> 26
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 26
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 25
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 35
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 24
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 23
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 34
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 22
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 32
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 33
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 31
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 11
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 29
+ cpy file 7 to 9
+ copy dir 26 -> looking for root 9
+ cpy file 26 to 28
+ copy dir 9 -> looking for root 9
I am root. ¯\_(ツ)_/¯
+ replace_ref 26 with 28
Path for /numbers: 9 --> 28
Copy /numbers 26 --> 28 == 28
+ mknod create /numbers/9.num [100644] - #36
+ dirent = '9.num'
+ directory_put(..., 9.num, 36) -> 0
node{mode: 40755, size: 180}
mknod(/numbers/9.num, 100644) -> 0
Path for /numbers/9.num: 9 --> 28 --> 36
+ storage_stat(/numbers/9.num)
+ storage_stat(/numbers/9.num); inode 36
node{mode: 100644, size: 0}
getattr(/numbers/9.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/9.num: 9 --> 28 --> 36
access(/numbers/9.num, 0000) -> 0
open(/numbers/9.num) -> 0
Path for /numbers/9.num: 9 --> 28 --> 36
ioctl(/numbers/9.num, 21505, ...) -> -1
Copying /numbers/9.num ...
Path for /numbers/9.num: 9 --> 28 --> 36
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 28
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 36
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 26
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 25
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 35
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 24
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 23
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 34
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 22
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 32
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 33
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 31
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
+ cpy file 9 to 4
+ copy dir 36 -> looking for root 4
+ cpy file 36 to 11
+ copy dir 28 -> looking for root 4
+ cpy file 28 to 29
+ copy dir 4 -> looking for root 4
I am root. ¯\_(ツ)_/¯
+ replace_ref 28 with 29
+ replace_ref 36 with 11
Path for /numbers/9.num: 4 --> 29 --> 11
Copy /numbers/9.num 36 --> 11 == 11
+ storage_write inum: 11
write(/numbers/9.num, 2 bytes, @+0) -> 2
Path for /numbers/9.num: 4 --> 29 --> 11
+ storage_stat(/numbers/10.num)
tree_lookup error
-2
getattr(/numbers/10.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/10.numCopying /numbers ...
Path for /numbers: 4 --> 29
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 29
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 28
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 36
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 26
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 25
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 35
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 24
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 23
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 34
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 22
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 32
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 33
+ cpy file 4 to 8
+ copy dir 29 -> looking for root 8
+ cpy file 29 to 31
+ copy dir 8 -> looking for root 8
I am root. ¯\_(ツ)_/¯
+ replace_ref 29 with 31
Path for /numbers: 8 --> 31
Copy /numbers 29 --> 31 == 31
+ mknod create /numbers/10.num [100644] - #42
+ dirent = '10.num'
+ directory_put(..., 10.num, 42) -> 0
node{mode: 40755, size: 200}
mknod(/numbers/10.num, 100644) -> 0
Path for /numbers/10.num: 8 --> 31 --> 42
+ storage_stat(/numbers/10.num)
+ storage_stat(/numbers/10.num); inode 42
node{mode: 100644, size: 0}
getattr(/numbers/10.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/10.num: 8 --> 31 --> 42
access(/numbers/10.num, 0000) -> 0
open(/numbers/10.num) -> 0
Path for /numbers/10.num: 8 --> 31 --> 42
ioctl(/numbers/10.num, 21505, ...) -> -1
Copying /numbers/10.num ...
Path for /numbers/10.num: 8 --> 31 --> 42
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 31
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 42
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 29
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 28
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 36
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 26
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 25
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 35
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 24
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 23
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 34
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 22
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
+ cpy file 8 to 14
+ copy dir 42 -> looking for root 14
+ cpy file 42 to 32
+ copy dir 31 -> looking for root 14
+ cpy file 31 to 33
+ copy dir 14 -> looking for root 14
I am root. ¯\_(ツ)_/¯
+ replace_ref 31 with 33
+ replace_ref 42 with 32
Path for /numbers/10.num: 14 --> 33 --> 32
Copy /numbers/10.num 42 --> 32 == 32
+ storage_write inum: 32
write(/numbers/10.num, 3 bytes, @+0) -> 3
Path for /numbers/10.num: 14 --> 33 --> 32
+ storage_stat(/numbers/11.num)
tree_lookup error
-2
getattr(/numbers/11.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/11.numCopying /numbers ...
Path for /numbers: 14 --> 33
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 33
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 31
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 42
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 29
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 28
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 36
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 26
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 25
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 35
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 24
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 23
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 34
+ cpy file 14 to 0
+ copy dir 33 -> looking for root 0
+ cpy file 33 to 22
+ copy dir 0 -> looking for root 0
I am root. ¯\_(ツ)_/¯
+ replace_ref 33 with 22
Path for /numbers: 0 --> 22
Copy /numbers 33 --> 22 == 22
+ mknod create /numbers/11.num [100644] - #43
+ dirent = '11.num'
+ directory_put(..., 11.num, 43) -> 0
node{mode: 40755, size: 220}
mknod(/numbers/11.num, 100644) -> 0
Path for /numbers/11.num: 0 --> 22 --> 43
+ storage_stat(/numbers/11.num)
+ storage_stat(/numbers/11.num); inode 43
node{mode: 100644, size: 0}
getattr(/numbers/11.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/11.num: 0 --> 22 --> 43
access(/numbers/11.num, 0000) -> 0
open(/numbers/11.num) -> 0
Path for /numbers/11.num: 0 --> 22 --> 43
ioctl(/numbers/11.num, 21505, ...) -> -1
Copying /numbers/11.num ...
Path for /numbers/11.num: 0 --> 22 --> 43
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 22
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 43
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 33
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 31
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 42
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 29
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 28
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 36
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 26
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 25
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 35
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 24
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
+ cpy file 0 to 1
+ copy dir 43 -> looking for root 1
+ cpy file 43 to 23
+ copy dir 22 -> looking for root 1
+ cpy file 22 to 34
+ copy dir 1 -> looking for root 1
I am root. ¯\_(ツ)_/¯
+ replace_ref 22 with 34
+ replace_ref 43 with 23
Path for /numbers/11.num: 1 --> 34 --> 23
Copy /numbers/11.num 43 --> 23 == 23
+ storage_write inum: 23
write(/numbers/11.num, 3 bytes, @+0) -> 3
Path for /numbers/11.num: 1 --> 34 --> 23
+ storage_stat(/numbers/12.num)
tree_lookup error
-2
getattr(/numbers/12.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/12.numCopying /numbers ...
Path for /numbers: 1 --> 34
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 34
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 22
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 43
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 33
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 31
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 42
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 29
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 28
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 36
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 26
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 25
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 35
+ cpy file 1 to 2
+ copy dir 34 -> looking for root 2
+ cpy file 34 to 24
+ copy dir 2 -> looking for root 2
I am root. ¯\_(ツ)_/¯
+ replace_ref 34 with 24
Path for /numbers: 2 --> 24
Copy /numbers 34 --> 24 == 24
+ mknod create /numbers/12.num [100644] - #44
+ dirent = '12.num'
+ directory_put(..., 12.num, 44) -> 0
node{mode: 40755, size: 240}
mknod(/numbers/12.num, 100644) -> 0
Path for /numbers/12.num: 2 --> 24 --> 44
+ storage_stat(/numbers/12.num)
+ storage_stat(/numbers/12.num); inode 44
node{mode: 100644, size: 0}
getattr(/numbers/12.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/12.num: 2 --> 24 --> 44
access(/numbers/12.num, 0000) -> 0
open(/numbers/12.num) -> 0
Path for /numbers/12.num: 2 --> 24 --> 44
ioctl(/numbers/12.num, 21505, ...) -> -1
Copying /numbers/12.num ...
Path for /numbers/12.num: 2 --> 24 --> 44
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 24
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 44
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 34
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 22
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 43
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 33
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 31
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 42
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 29
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 28
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 36
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 26
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
+ cpy file 2 to 5
+ copy dir 44 -> looking for root 5
+ cpy file 44 to 25
+ copy dir 24 -> looking for root 5
+ cpy file 24 to 35
+ copy dir 5 -> looking for root 5
I am root. ¯\_(ツ)_/¯
+ replace_ref 24 with 35
+ replace_ref 44 with 25
Path for /numbers/12.num: 5 --> 35 --> 25
Copy /numbers/12.num 44 --> 25 == 25
+ storage_write inum: 25
write(/numbers/12.num, 3 bytes, @+0) -> 3
Path for /numbers/12.num: 5 --> 35 --> 25
+ storage_stat(/numbers/13.num)
tree_lookup error
-2
getattr(/numbers/13.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/13.numCopying /numbers ...
Path for /numbers: 5 --> 35
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 35
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 24
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 44
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 34
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 22
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 43
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 33
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 31
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 42
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 29
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 28
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 36
+ cpy file 5 to 7
+ copy dir 35 -> looking for root 7
+ cpy file 35 to 26
+ copy dir 7 -> looking for root 7
I am root. ¯\_(ツ)_/¯
+ replace_ref 35 with 26
Path for /numbers: 7 --> 26
Copy /numbers 35 --> 26 == 26
+ mknod create /numbers/13.num [100644] - #45
+ dirent = '13.num'
+ directory_put(..., 13.num, 45) -> 0
node{mode: 40755, size: 260}
mknod(/numbers/13.num, 100644) -> 0
Path for /numbers/13.num: 7 --> 26 --> 45
+ storage_stat(/numbers/13.num)
+ storage_stat(/numbers/13.num); inode 45
node{mode: 100644, size: 0}
getattr(/numbers/13.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/13.num: 7 --> 26 --> 45
access(/numbers/13.num, 0000) -> 0
open(/numbers/13.num) -> 0
Path for /numbers/13.num: 7 --> 26 --> 45
ioctl(/numbers/13.num, 21505, ...) -> -1
Copying /numbers/13.num ...
Path for /numbers/13.num: 7 --> 26 --> 45
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 26
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 45
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 35
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 24
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 44
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 34
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 22
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 43
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 33
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 31
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 42
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 29
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
+ cpy file 7 to 9
+ copy dir 45 -> looking for root 9
+ cpy file 45 to 28
+ copy dir 26 -> looking for root 9
+ cpy file 26 to 36
+ copy dir 9 -> looking for root 9
I am root. ¯\_(ツ)_/¯
+ replace_ref 26 with 36
+ replace_ref 45 with 28
Path for /numbers/13.num: 9 --> 36 --> 28
Copy /numbers/13.num 45 --> 28 == 28
+ storage_write inum: 28
write(/numbers/13.num, 3 bytes, @+0) -> 3
Path for /numbers/13.num: 9 --> 36 --> 28
+ storage_stat(/numbers/14.num)
tree_lookup error
-2
getattr(/numbers/14.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/14.numCopying /numbers ...
Path for /numbers: 9 --> 36
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 36
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 26
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 45
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 35
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 24
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 44
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 34
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 22
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 43
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 33
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 31
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 42
+ cpy file 9 to 4
+ copy dir 36 -> looking for root 4
+ cpy file 36 to 29
+ copy dir 4 -> looking for root 4
I am root. ¯\_(ツ)_/¯
+ replace_ref 36 with 29
Path for /numbers: 4 --> 29
Copy /numbers 36 --> 29 == 29
+ mknod create /numbers/14.num [100644] - #46
+ dirent = '14.num'
+ directory_put(..., 14.num, 46) -> 0
node{mode: 40755, size: 280}
mknod(/numbers/14.num, 100644) -> 0
Path for /numbers/14.num: 4 --> 29 --> 46
+ storage_stat(/numbers/14.num)
+ storage_stat(/numbers/14.num); inode 46
node{mode: 100644, size: 0}
getattr(/numbers/14.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/14.num: 4 --> 29 --> 46
access(/numbers/14.num, 0000) -> 0
open(/numbers/14.num) -> 0
Path for /numbers/14.num: 4 --> 29 --> 46
ioctl(/numbers/14.num, 21505, ...) -> -1
Copying /numbers/14.num ...
Path for /numbers/14.num: 4 --> 29 --> 46
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 29
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 46
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 36
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 26
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 45
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 35
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 24
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 44
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 34
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 22
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 43
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 33
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
+ cpy file 4 to 8
+ copy dir 46 -> looking for root 8
+ cpy file 46 to 31
+ copy dir 29 -> looking for root 8
+ cpy file 29 to 42
+ copy dir 8 -> looking for root 8
I am root. ¯\_(ツ)_/¯
+ replace_ref 29 with 42
+ replace_ref 46 with 31
Path for /numbers/14.num: 8 --> 42 --> 31
Copy /numbers/14.num 46 --> 31 == 31
+ storage_write inum: 31
write(/numbers/14.num, 3 bytes, @+0) -> 3
Path for /numbers/14.num: 8 --> 42 --> 31
+ storage_stat(/numbers/15.num)
tree_lookup error
-2
getattr(/numbers/15.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/15.numCopying /numbers ...
Path for /numbers: 8 --> 42
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 29
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 46
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 36
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 26
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 45
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 35
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 24
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 44
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 34
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 22
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 43
+ cpy file 8 to 14
+ copy dir 42 -> looking for root 14
+ cpy file 42 to 33
+ copy dir 14 -> looking for root 14
I am root. ¯\_(ツ)_/¯
+ replace_ref 42 with 33
Path for /numbers: 14 --> 33
Copy /numbers 42 --> 33 == 33
+ mknod create /numbers/15.num [100644] - #47
+ dirent = '15.num'
+ directory_put(..., 15.num, 47) -> 0
node{mode: 40755, size: 300}
mknod(/numbers/15.num, 100644) -> 0
Path for /numbers/15.num: 14 --> 33 --> 47
+ storage_stat(/numbers/15.num)
+ storage_stat(/numbers/15.num); inode 47
node{mode: 100644, size: 0}
getattr(/numbers/15.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/15.num: 14 --> 33 --> 47
access(/numbers/15.num, 0000) -> 0
open(/numbers/15.num) -> 0
Path for /numbers/15.num: 14 --> 33 --> 47
ioctl(/numbers/15.num, 21505, ...) -> -1
Copying /numbers/15.num ...
Path for /numbers/15.num: 14 --> 33 --> 47
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 33
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 47
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 29
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 46
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 36
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 26
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 45
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 35
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 24
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 44
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 34
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
+ cpy file 14 to 0
+ copy dir 47 -> looking for root 0
+ cpy file 47 to 22
+ copy dir 33 -> looking for root 0
+ cpy file 33 to 43
+ copy dir 0 -> looking for root 0
I am root. ¯\_(ツ)_/¯
+ replace_ref 33 with 43
+ replace_ref 47 with 22
Path for /numbers/15.num: 0 --> 43 --> 22
Copy /numbers/15.num 47 --> 22 == 22
+ storage_write inum: 22
write(/numbers/15.num, 3 bytes, @+0) -> 3
Path for /numbers/15.num: 0 --> 43 --> 22
+ storage_stat(/numbers/16.num)
tree_lookup error
-2
getattr(/numbers/16.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/16.numCopying /numbers ...
Path for /numbers: 0 --> 43
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 43
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 33
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 47
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 29
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 46
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 36
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 26
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 45
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 35
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 24
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 44
+ cpy file 0 to 1
+ copy dir 43 -> looking for root 1
+ cpy file 43 to 34
+ copy dir 1 -> looking for root 1
I am root. ¯\_(ツ)_/¯
+ replace_ref 43 with 34
Path for /numbers: 1 --> 34
Copy /numbers 43 --> 34 == 34
+ mknod create /numbers/16.num [100644] - #48
+ dirent = '16.num'
+ directory_put(..., 16.num, 48) -> 0
node{mode: 40755, size: 320}
mknod(/numbers/16.num, 100644) -> 0
Path for /numbers/16.num: 1 --> 34 --> 48
+ storage_stat(/numbers/16.num)
+ storage_stat(/numbers/16.num); inode 48
node{mode: 100644, size: 0}
getattr(/numbers/16.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/16.num: 1 --> 34 --> 48
access(/numbers/16.num, 0000) -> 0
open(/numbers/16.num) -> 0
Path for /numbers/16.num: 1 --> 34 --> 48
ioctl(/numbers/16.num, 21505, ...) -> -1
Copying /numbers/16.num ...
Path for /numbers/16.num: 1 --> 34 --> 48
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 34
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 48
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 43
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 33
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 47
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 29
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 46
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 36
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 26
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 45
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 35
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
+ cpy file 1 to 2
+ copy dir 48 -> looking for root 2
+ cpy file 48 to 24
+ copy dir 34 -> looking for root 2
+ cpy file 34 to 44
+ copy dir 2 -> looking for root 2
I am root. ¯\_(ツ)_/¯
+ replace_ref 34 with 44
+ replace_ref 48 with 24
Path for /numbers/16.num: 2 --> 44 --> 24
Copy /numbers/16.num 48 --> 24 == 24
+ storage_write inum: 24
write(/numbers/16.num, 3 bytes, @+0) -> 3
Path for /numbers/16.num: 2 --> 44 --> 24
+ storage_stat(/numbers/17.num)
tree_lookup error
-2
getattr(/numbers/17.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/17.numCopying /numbers ...
Path for /numbers: 2 --> 44
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 34
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 48
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 43
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 33
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 47
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 29
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 46
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 36
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 26
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 45
+ cpy file 2 to 5
+ copy dir 44 -> looking for root 5
+ cpy file 44 to 35
+ copy dir 5 -> looking for root 5
I am root. ¯\_(ツ)_/¯
+ replace_ref 44 with 35
Path for /numbers: 5 --> 35
Copy /numbers 44 --> 35 == 35
+ mknod create /numbers/17.num [100644] - #49
+ dirent = '17.num'
+ directory_put(..., 17.num, 49) -> 0
node{mode: 40755, size: 340}
mknod(/numbers/17.num, 100644) -> 0
Path for /numbers/17.num: 5 --> 35 --> 49
+ storage_stat(/numbers/17.num)
+ storage_stat(/numbers/17.num); inode 49
node{mode: 100644, size: 0}
getattr(/numbers/17.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/17.num: 5 --> 35 --> 49
access(/numbers/17.num, 0000) -> 0
open(/numbers/17.num) -> 0
Path for /numbers/17.num: 5 --> 35 --> 49
ioctl(/numbers/17.num, 21505, ...) -> -1
Copying /numbers/17.num ...
Path for /numbers/17.num: 5 --> 35 --> 49
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 35
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 49
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 34
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 48
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 43
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 33
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 47
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 29
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 46
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 36
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
+ cpy file 5 to 7
+ copy dir 49 -> looking for root 7
+ cpy file 49 to 26
+ copy dir 35 -> looking for root 7
+ cpy file 35 to 45
+ copy dir 7 -> looking for root 7
I am root. ¯\_(ツ)_/¯
+ replace_ref 35 with 45
+ replace_ref 49 with 26
Path for /numbers/17.num: 7 --> 45 --> 26
Copy /numbers/17.num 49 --> 26 == 26
+ storage_write inum: 26
write(/numbers/17.num, 3 bytes, @+0) -> 3
Path for /numbers/17.num: 7 --> 45 --> 26
+ storage_stat(/numbers/18.num)
tree_lookup error
-2
getattr(/numbers/18.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/18.numCopying /numbers ...
Path for /numbers: 7 --> 45
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 45
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 35
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 49
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 34
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 48
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 43
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 33
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 47
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 29
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 46
+ cpy file 7 to 9
+ copy dir 45 -> looking for root 9
+ cpy file 45 to 36
+ copy dir 9 -> looking for root 9
I am root. ¯\_(ツ)_/¯
+ replace_ref 45 with 36
Path for /numbers: 9 --> 36
Copy /numbers 45 --> 36 == 36
+ mknod create /numbers/18.num [100644] - #50
+ dirent = '18.num'
+ directory_put(..., 18.num, 50) -> 0
node{mode: 40755, size: 360}
mknod(/numbers/18.num, 100644) -> 0
Path for /numbers/18.num: 9 --> 36 --> 50
+ storage_stat(/numbers/18.num)
+ storage_stat(/numbers/18.num); inode 50
node{mode: 100644, size: 0}
getattr(/numbers/18.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/18.num: 9 --> 36 --> 50
access(/numbers/18.num, 0000) -> 0
open(/numbers/18.num) -> 0
Path for /numbers/18.num: 9 --> 36 --> 50
ioctl(/numbers/18.num, 21505, ...) -> -1
Copying /numbers/18.num ...
Path for /numbers/18.num: 9 --> 36 --> 50
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 36
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 50
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 45
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 35
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 49
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 34
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 48
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 43
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 33
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 47
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
+ cpy file 9 to 4
+ copy dir 50 -> looking for root 4
+ cpy file 50 to 29
+ copy dir 36 -> looking for root 4
+ cpy file 36 to 46
+ copy dir 4 -> looking for root 4
I am root. ¯\_(ツ)_/¯
+ replace_ref 36 with 46
+ replace_ref 50 with 29
Path for /numbers/18.num: 4 --> 46 --> 29
Copy /numbers/18.num 50 --> 29 == 29
+ storage_write inum: 29
write(/numbers/18.num, 3 bytes, @+0) -> 3
Path for /numbers/18.num: 4 --> 46 --> 29
+ storage_stat(/numbers/19.num)
tree_lookup error
-2
getattr(/numbers/19.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/19.numCopying /numbers ...
Path for /numbers: 4 --> 46
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 46
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 36
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 50
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 45
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 35
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 49
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 34
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 48
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 43
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 33
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 47
+ cpy file 4 to 8
+ copy dir 46 -> looking for root 8
+ cpy file 46 to 42
+ copy dir 8 -> looking for root 8
I am root. ¯\_(ツ)_/¯
+ replace_ref 46 with 42
Path for /numbers: 8 --> 42
Copy /numbers 46 --> 42 == 42
+ mknod create /numbers/19.num [100644] - #51
+ dirent = '19.num'
+ directory_put(..., 19.num, 51) -> 0
node{mode: 40755, size: 380}
mknod(/numbers/19.num, 100644) -> 0
Path for /numbers/19.num: 8 --> 42 --> 51
+ storage_stat(/numbers/19.num)
+ storage_stat(/numbers/19.num); inode 51
node{mode: 100644, size: 0}
getattr(/numbers/19.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/19.num: 8 --> 42 --> 51
access(/numbers/19.num, 0000) -> 0
open(/numbers/19.num) -> 0
Path for /numbers/19.num: 8 --> 42 --> 51
ioctl(/numbers/19.num, 21505, ...) -> -1
Copying /numbers/19.num ...
Path for /numbers/19.num: 8 --> 42 --> 51
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 51
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 46
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 36
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 50
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 45
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 35
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 49
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 34
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 48
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 43
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
+ cpy file 8 to 14
+ copy dir 51 -> looking for root 14
+ cpy file 51 to 33
+ copy dir 42 -> looking for root 14
+ cpy file 42 to 47
+ copy dir 14 -> looking for root 14
I am root. ¯\_(ツ)_/¯
+ replace_ref 42 with 47
+ replace_ref 51 with 33
Path for /numbers/19.num: 14 --> 47 --> 33
Copy /numbers/19.num 51 --> 33 == 33
+ storage_write inum: 33
write(/numbers/19.num, 3 bytes, @+0) -> 3
Path for /numbers/19.num: 14 --> 47 --> 33
+ storage_stat(/numbers/20.num)
tree_lookup error
-2
getattr(/numbers/20.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/20.numCopying /numbers ...
Path for /numbers: 14 --> 47
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 47
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 51
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 46
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 36
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 50
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 45
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 35
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 49
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 34
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 48
+ cpy file 14 to 0
+ copy dir 47 -> looking for root 0
+ cpy file 47 to 43
+ copy dir 0 -> looking for root 0
I am root. ¯\_(ツ)_/¯
+ replace_ref 47 with 43
Path for /numbers: 0 --> 43
Copy /numbers 47 --> 43 == 43
+ mknod create /numbers/20.num [100644] - #52
+ dirent = '20.num'
+ directory_put(..., 20.num, 52) -> 0
node{mode: 40755, size: 400}
mknod(/numbers/20.num, 100644) -> 0
Path for /numbers/20.num: 0 --> 43 --> 52
+ storage_stat(/numbers/20.num)
+ storage_stat(/numbers/20.num); inode 52
node{mode: 100644, size: 0}
getattr(/numbers/20.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/20.num: 0 --> 43 --> 52
access(/numbers/20.num, 0000) -> 0
open(/numbers/20.num) -> 0
Path for /numbers/20.num: 0 --> 43 --> 52
ioctl(/numbers/20.num, 21505, ...) -> -1
Copying /numbers/20.num ...
Path for /numbers/20.num: 0 --> 43 --> 52
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 43
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 52
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 47
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 51
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 46
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 36
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 50
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 45
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 35
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 49
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
+ cpy file 0 to 1
+ copy dir 52 -> looking for root 1
+ cpy file 52 to 34
+ copy dir 43 -> looking for root 1
+ cpy file 43 to 48
+ copy dir 1 -> looking for root 1
I am root. ¯\_(ツ)_/¯
+ replace_ref 43 with 48
+ replace_ref 52 with 34
Path for /numbers/20.num: 1 --> 48 --> 34
Copy /numbers/20.num 52 --> 34 == 34
+ storage_write inum: 34
write(/numbers/20.num, 3 bytes, @+0) -> 3
Path for /numbers/20.num: 1 --> 48 --> 34
+ storage_stat(/numbers/21.num)
tree_lookup error
-2
getattr(/numbers/21.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/21.numCopying /numbers ...
Path for /numbers: 1 --> 48
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 48
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 43
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 52
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 47
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 51
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 46
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 36
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 50
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 45
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 35
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 49
+ cpy file 1 to 2
+ copy dir 48 -> looking for root 2
+ cpy file 48 to 44
+ copy dir 2 -> looking for root 2
I am root. ¯\_(ツ)_/¯
+ replace_ref 48 with 44
Path for /numbers: 2 --> 44
Copy /numbers 48 --> 44 == 44
+ mknod create /numbers/21.num [100644] - #53
+ dirent = '21.num'
+ directory_put(..., 21.num, 53) -> 0
node{mode: 40755, size: 420}
mknod(/numbers/21.num, 100644) -> 0
Path for /numbers/21.num: 2 --> 44 --> 53
+ storage_stat(/numbers/21.num)
+ storage_stat(/numbers/21.num); inode 53
node{mode: 100644, size: 0}
getattr(/numbers/21.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/21.num: 2 --> 44 --> 53
access(/numbers/21.num, 0000) -> 0
open(/numbers/21.num) -> 0
Path for /numbers/21.num: 2 --> 44 --> 53
ioctl(/numbers/21.num, 21505, ...) -> -1
Copying /numbers/21.num ...
Path for /numbers/21.num: 2 --> 44 --> 53
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 53
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 48
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 43
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 52
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 47
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 51
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 46
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 36
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 50
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 45
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
+ cpy file 2 to 5
+ copy dir 53 -> looking for root 5
+ cpy file 53 to 35
+ copy dir 44 -> looking for root 5
+ cpy file 44 to 49
+ copy dir 5 -> looking for root 5
I am root. ¯\_(ツ)_/¯
+ replace_ref 44 with 49
+ replace_ref 53 with 35
Path for /numbers/21.num: 5 --> 49 --> 35
Copy /numbers/21.num 53 --> 35 == 35
+ storage_write inum: 35
write(/numbers/21.num, 3 bytes, @+0) -> 3
Path for /numbers/21.num: 5 --> 49 --> 35
+ storage_stat(/numbers/22.num)
tree_lookup error
-2
getattr(/numbers/22.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/22.numCopying /numbers ...
Path for /numbers: 5 --> 49
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 49
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 53
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 48
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 43
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 52
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 47
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 51
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 46
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 36
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 50
+ cpy file 5 to 7
+ copy dir 49 -> looking for root 7
+ cpy file 49 to 45
+ copy dir 7 -> looking for root 7
I am root. ¯\_(ツ)_/¯
+ replace_ref 49 with 45
Path for /numbers: 7 --> 45
Copy /numbers 49 --> 45 == 45
+ mknod create /numbers/22.num [100644] - #54
+ dirent = '22.num'
+ directory_put(..., 22.num, 54) -> 0
node{mode: 40755, size: 440}
mknod(/numbers/22.num, 100644) -> 0
Path for /numbers/22.num: 7 --> 45 --> 54
+ storage_stat(/numbers/22.num)
+ storage_stat(/numbers/22.num); inode 54
node{mode: 100644, size: 0}
getattr(/numbers/22.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/22.num: 7 --> 45 --> 54
access(/numbers/22.num, 0000) -> 0
open(/numbers/22.num) -> 0
Path for /numbers/22.num: 7 --> 45 --> 54
ioctl(/numbers/22.num, 21505, ...) -> -1
Copying /numbers/22.num ...
Path for /numbers/22.num: 7 --> 45 --> 54
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 45
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 54
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 49
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 53
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 48
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 43
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 52
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 47
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 51
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 46
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
+ cpy file 7 to 9
+ copy dir 54 -> looking for root 9
+ cpy file 54 to 36
+ copy dir 45 -> looking for root 9
+ cpy file 45 to 50
+ copy dir 9 -> looking for root 9
I am root. ¯\_(ツ)_/¯
+ replace_ref 45 with 50
+ replace_ref 54 with 36
Path for /numbers/22.num: 9 --> 50 --> 36
Copy /numbers/22.num 54 --> 36 == 36
+ storage_write inum: 36
write(/numbers/22.num, 3 bytes, @+0) -> 3
Path for /numbers/22.num: 9 --> 50 --> 36
+ storage_stat(/numbers/23.num)
tree_lookup error
-2
getattr(/numbers/23.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/23.numCopying /numbers ...
Path for /numbers: 9 --> 50
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 50
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 45
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 54
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 49
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 53
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 48
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 43
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 52
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 47
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 42
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 51
+ cpy file 9 to 4
+ copy dir 50 -> looking for root 4
+ cpy file 50 to 46
+ copy dir 4 -> looking for root 4
I am root. ¯\_(ツ)_/¯
+ replace_ref 50 with 46
Path for /numbers: 4 --> 46
Copy /numbers 50 --> 46 == 46
+ mknod create /numbers/23.num [100644] - #55
+ dirent = '23.num'
+ directory_put(..., 23.num, 55) -> 0
node{mode: 40755, size: 460}
mknod(/numbers/23.num, 100644) -> 0
Path for /numbers/23.num: 4 --> 46 --> 55
+ storage_stat(/numbers/23.num)
+ storage_stat(/numbers/23.num); inode 55
node{mode: 100644, size: 0}
getattr(/numbers/23.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/23.num: 4 --> 46 --> 55
access(/numbers/23.num, 0000) -> 0
open(/numbers/23.num) -> 0
Path for /numbers/23.num: 4 --> 46 --> 55
ioctl(/numbers/23.num, 21505, ...) -> -1
Copying /numbers/23.num ...
Path for /numbers/23.num: 4 --> 46 --> 55
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 46
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 55
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 50
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 45
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 54
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 49
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 53
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 48
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 43
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 52
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 47
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
+ cpy file 4 to 8
+ copy dir 55 -> looking for root 8
+ cpy file 55 to 42
+ copy dir 46 -> looking for root 8
+ cpy file 46 to 51
+ copy dir 8 -> looking for root 8
I am root. ¯\_(ツ)_/¯
+ replace_ref 46 with 51
+ replace_ref 55 with 42
Path for /numbers/23.num: 8 --> 51 --> 42
Copy /numbers/23.num 55 --> 42 == 42
+ storage_write inum: 42
write(/numbers/23.num, 3 bytes, @+0) -> 3
Path for /numbers/23.num: 8 --> 51 --> 42
+ storage_stat(/numbers/24.num)
tree_lookup error
-2
getattr(/numbers/24.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/24.numCopying /numbers ...
Path for /numbers: 8 --> 51
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 51
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 46
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 55
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 50
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 45
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 54
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 49
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 53
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 48
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 43
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 52
+ cpy file 8 to 14
+ copy dir 51 -> looking for root 14
+ cpy file 51 to 47
+ copy dir 14 -> looking for root 14
I am root. ¯\_(ツ)_/¯
+ replace_ref 51 with 47
Path for /numbers: 14 --> 47
Copy /numbers 51 --> 47 == 47
+ mknod create /numbers/24.num [100644] - #56
+ dirent = '24.num'
+ directory_put(..., 24.num, 56) -> 0
node{mode: 40755, size: 480}
mknod(/numbers/24.num, 100644) -> 0
Path for /numbers/24.num: 14 --> 47 --> 56
+ storage_stat(/numbers/24.num)
+ storage_stat(/numbers/24.num); inode 56
node{mode: 100644, size: 0}
getattr(/numbers/24.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/24.num: 14 --> 47 --> 56
access(/numbers/24.num, 0000) -> 0
open(/numbers/24.num) -> 0
Path for /numbers/24.num: 14 --> 47 --> 56
ioctl(/numbers/24.num, 21505, ...) -> -1
Copying /numbers/24.num ...
Path for /numbers/24.num: 14 --> 47 --> 56
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 47
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 56
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 51
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 46
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 55
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 50
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 45
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 54
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 49
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 53
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 48
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
+ cpy file 14 to 0
+ copy dir 56 -> looking for root 0
+ cpy file 56 to 43
+ copy dir 47 -> looking for root 0
+ cpy file 47 to 52
+ copy dir 0 -> looking for root 0
I am root. ¯\_(ツ)_/¯
+ replace_ref 47 with 52
+ replace_ref 56 with 43
Path for /numbers/24.num: 0 --> 52 --> 43
Copy /numbers/24.num 56 --> 43 == 43
+ storage_write inum: 43
write(/numbers/24.num, 3 bytes, @+0) -> 3
Path for /numbers/24.num: 0 --> 52 --> 43
+ storage_stat(/numbers/25.num)
tree_lookup error
-2
getattr(/numbers/25.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/25.numCopying /numbers ...
Path for /numbers: 0 --> 52
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 52
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 47
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 56
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 51
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 46
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 55
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 50
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 45
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 54
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 49
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 44
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 53
+ cpy file 0 to 1
+ copy dir 52 -> looking for root 1
+ cpy file 52 to 48
+ copy dir 1 -> looking for root 1
I am root. ¯\_(ツ)_/¯
+ replace_ref 52 with 48
Path for /numbers: 1 --> 48
Copy /numbers 52 --> 48 == 48
+ mknod create /numbers/25.num [100644] - #57
+ dirent = '25.num'
+ directory_put(..., 25.num, 57) -> 0
node{mode: 40755, size: 500}
mknod(/numbers/25.num, 100644) -> 0
Path for /numbers/25.num: 1 --> 48 --> 57
+ storage_stat(/numbers/25.num)
+ storage_stat(/numbers/25.num); inode 57
node{mode: 100644, size: 0}
getattr(/numbers/25.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/25.num: 1 --> 48 --> 57
access(/numbers/25.num, 0000) -> 0
open(/numbers/25.num) -> 0
Path for /numbers/25.num: 1 --> 48 --> 57
ioctl(/numbers/25.num, 21505, ...) -> -1
Copying /numbers/25.num ...
Path for /numbers/25.num: 1 --> 48 --> 57
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 48
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 57
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 52
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 47
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 56
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 51
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 46
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 55
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 50
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 45
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 54
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 49
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
+ cpy file 1 to 2
+ copy dir 57 -> looking for root 2
+ cpy file 57 to 44
+ copy dir 48 -> looking for root 2
+ cpy file 48 to 53
+ copy dir 2 -> looking for root 2
I am root. ¯\_(ツ)_/¯
+ replace_ref 48 with 53
+ replace_ref 57 with 44
Path for /numbers/25.num: 2 --> 53 --> 44
Copy /numbers/25.num 57 --> 44 == 44
+ storage_write inum: 44
write(/numbers/25.num, 3 bytes, @+0) -> 3
Path for /numbers/25.num: 2 --> 53 --> 44
+ storage_stat(/numbers/26.num)
tree_lookup error
-2
getattr(/numbers/26.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/26.numCopying /numbers ...
Path for /numbers: 2 --> 53
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 53
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 48
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 57
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 52
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 47
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 56
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 51
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 46
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 55
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 50
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 45
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 54
+ cpy file 2 to 5
+ copy dir 53 -> looking for root 5
+ cpy file 53 to 49
+ copy dir 5 -> looking for root 5
I am root. ¯\_(ツ)_/¯
+ replace_ref 53 with 49
Path for /numbers: 5 --> 49
Copy /numbers 53 --> 49 == 49
+ mknod create /numbers/26.num [100644] - #58
+ dirent = '26.num'
+ directory_put(..., 26.num, 58) -> 0
node{mode: 40755, size: 520}
mknod(/numbers/26.num, 100644) -> 0
Path for /numbers/26.num: 5 --> 49 --> 58
+ storage_stat(/numbers/26.num)
+ storage_stat(/numbers/26.num); inode 58
node{mode: 100644, size: 0}
getattr(/numbers/26.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/26.num: 5 --> 49 --> 58
access(/numbers/26.num, 0000) -> 0
open(/numbers/26.num) -> 0
Path for /numbers/26.num: 5 --> 49 --> 58
ioctl(/numbers/26.num, 21505, ...) -> -1
Copying /numbers/26.num ...
Path for /numbers/26.num: 5 --> 49 --> 58
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 49
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 58
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 53
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 48
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 57
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 52
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 47
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 56
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 51
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 46
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 55
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 50
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
+ cpy file 5 to 7
+ copy dir 58 -> looking for root 7
+ cpy file 58 to 45
+ copy dir 49 -> looking for root 7
+ cpy file 49 to 54
+ copy dir 7 -> looking for root 7
I am root. ¯\_(ツ)_/¯
+ replace_ref 49 with 54
+ replace_ref 58 with 45
Path for /numbers/26.num: 7 --> 54 --> 45
Copy /numbers/26.num 58 --> 45 == 45
+ storage_write inum: 45
write(/numbers/26.num, 3 bytes, @+0) -> 3
Path for /numbers/26.num: 7 --> 54 --> 45
+ storage_stat(/numbers/27.num)
tree_lookup error
-2
getattr(/numbers/27.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/27.numCopying /numbers ...
Path for /numbers: 7 --> 54
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 54
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 49
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 58
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 53
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 48
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 57
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 52
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 47
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 56
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 51
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 46
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 55
+ cpy file 7 to 9
+ copy dir 54 -> looking for root 9
+ cpy file 54 to 50
+ copy dir 9 -> looking for root 9
I am root. ¯\_(ツ)_/¯
+ replace_ref 54 with 50
Path for /numbers: 9 --> 50
Copy /numbers 54 --> 50 == 50
+ mknod create /numbers/27.num [100644] - #59
+ dirent = '27.num'
+ directory_put(..., 27.num, 59) -> 0
node{mode: 40755, size: 540}
mknod(/numbers/27.num, 100644) -> 0
Path for /numbers/27.num: 9 --> 50 --> 59
+ storage_stat(/numbers/27.num)
+ storage_stat(/numbers/27.num); inode 59
node{mode: 100644, size: 0}
getattr(/numbers/27.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/27.num: 9 --> 50 --> 59
access(/numbers/27.num, 0000) -> 0
open(/numbers/27.num) -> 0
Path for /numbers/27.num: 9 --> 50 --> 59
ioctl(/numbers/27.num, 21505, ...) -> -1
Copying /numbers/27.num ...
Path for /numbers/27.num: 9 --> 50 --> 59
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 50
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 59
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 54
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 49
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 58
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 53
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 48
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 57
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 52
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 47
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 56
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 51
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
+ cpy file 9 to 4
+ copy dir 59 -> looking for root 4
+ cpy file 59 to 46
+ copy dir 50 -> looking for root 4
+ cpy file 50 to 55
+ copy dir 4 -> looking for root 4
I am root. ¯\_(ツ)_/¯
+ replace_ref 50 with 55
+ replace_ref 59 with 46
Path for /numbers/27.num: 4 --> 55 --> 46
Copy /numbers/27.num 59 --> 46 == 46
+ storage_write inum: 46
write(/numbers/27.num, 3 bytes, @+0) -> 3
Path for /numbers/27.num: 4 --> 55 --> 46
+ storage_stat(/numbers/28.num)
tree_lookup error
-2
getattr(/numbers/28.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/28.numCopying /numbers ...
Path for /numbers: 4 --> 55
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 55
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 50
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 59
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 54
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 49
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 58
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 53
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 48
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 57
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 52
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 47
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 56
+ cpy file 4 to 8
+ copy dir 55 -> looking for root 8
+ cpy file 55 to 51
+ copy dir 8 -> looking for root 8
I am root. ¯\_(ツ)_/¯
+ replace_ref 55 with 51
Path for /numbers: 8 --> 51
Copy /numbers 55 --> 51 == 51
+ mknod create /numbers/28.num [100644] - #60
+ dirent = '28.num'
+ directory_put(..., 28.num, 60) -> 0
node{mode: 40755, size: 560}
mknod(/numbers/28.num, 100644) -> 0
Path for /numbers/28.num: 8 --> 51 --> 60
+ storage_stat(/numbers/28.num)
+ storage_stat(/numbers/28.num); inode 60
node{mode: 100644, size: 0}
getattr(/numbers/28.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/28.num: 8 --> 51 --> 60
access(/numbers/28.num, 0000) -> 0
open(/numbers/28.num) -> 0
Path for /numbers/28.num: 8 --> 51 --> 60
ioctl(/numbers/28.num, 21505, ...) -> -1
Copying /numbers/28.num ...
Path for /numbers/28.num: 8 --> 51 --> 60
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 51
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 60
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 55
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 50
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 59
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 54
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 49
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 58
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 53
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 48
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 57
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 52
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
+ cpy file 8 to 14
+ copy dir 60 -> looking for root 14
+ cpy file 60 to 47
+ copy dir 51 -> looking for root 14
+ cpy file 51 to 56
+ copy dir 14 -> looking for root 14
I am root. ¯\_(ツ)_/¯
+ replace_ref 51 with 56
+ replace_ref 60 with 47
Path for /numbers/28.num: 14 --> 56 --> 47
Copy /numbers/28.num 60 --> 47 == 47
+ storage_write inum: 47
write(/numbers/28.num, 3 bytes, @+0) -> 3
Path for /numbers/28.num: 14 --> 56 --> 47
+ storage_stat(/numbers/29.num)
tree_lookup error
-2
getattr(/numbers/29.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/29.numCopying /numbers ...
Path for /numbers: 14 --> 56
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 56
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 51
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 60
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 55
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 50
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 59
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 54
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 49
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 58
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 53
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 48
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 57
+ cpy file 14 to 0
+ copy dir 56 -> looking for root 0
+ cpy file 56 to 52
+ copy dir 0 -> looking for root 0
I am root. ¯\_(ツ)_/¯
+ replace_ref 56 with 52
Path for /numbers: 0 --> 52
Copy /numbers 56 --> 52 == 52
+ mknod create /numbers/29.num [100644] - #61
+ dirent = '29.num'
+ directory_put(..., 29.num, 61) -> 0
node{mode: 40755, size: 580}
mknod(/numbers/29.num, 100644) -> 0
Path for /numbers/29.num: 0 --> 52 --> 61
+ storage_stat(/numbers/29.num)
+ storage_stat(/numbers/29.num); inode 61
node{mode: 100644, size: 0}
getattr(/numbers/29.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/29.num: 0 --> 52 --> 61
access(/numbers/29.num, 0000) -> 0
open(/numbers/29.num) -> 0
Path for /numbers/29.num: 0 --> 52 --> 61
ioctl(/numbers/29.num, 21505, ...) -> -1
Copying /numbers/29.num ...
Path for /numbers/29.num: 0 --> 52 --> 61
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 52
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 61
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 56
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 51
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 60
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 55
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 50
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 59
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 54
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 49
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 58
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 53
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
+ cpy file 0 to 1
+ copy dir 61 -> looking for root 1
+ cpy file 61 to 48
+ copy dir 52 -> looking for root 1
+ cpy file 52 to 57
+ copy dir 1 -> looking for root 1
I am root. ¯\_(ツ)_/¯
+ replace_ref 52 with 57
+ replace_ref 61 with 48
Path for /numbers/29.num: 1 --> 57 --> 48
Copy /numbers/29.num 61 --> 48 == 48
+ storage_write inum: 48
write(/numbers/29.num, 3 bytes, @+0) -> 3
Path for /numbers/29.num: 1 --> 57 --> 48
+ storage_stat(/numbers/30.num)
tree_lookup error
-2
getattr(/numbers/30.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/30.numCopying /numbers ...
Path for /numbers: 1 --> 57
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 57
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 52
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 61
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 56
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 51
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 60
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 55
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 50
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 59
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 54
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 49
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 58
+ cpy file 1 to 2
+ copy dir 57 -> looking for root 2
+ cpy file 57 to 53
+ copy dir 2 -> looking for root 2
I am root. ¯\_(ツ)_/¯
+ replace_ref 57 with 53
Path for /numbers: 2 --> 53
Copy /numbers 57 --> 53 == 53
+ mknod create /numbers/30.num [100644] - #62
+ dirent = '30.num'
+ directory_put(..., 30.num, 62) -> 0
node{mode: 40755, size: 600}
mknod(/numbers/30.num, 100644) -> 0
Path for /numbers/30.num: 2 --> 53 --> 62
+ storage_stat(/numbers/30.num)
+ storage_stat(/numbers/30.num); inode 62
node{mode: 100644, size: 0}
getattr(/numbers/30.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/30.num: 2 --> 53 --> 62
access(/numbers/30.num, 0000) -> 0
open(/numbers/30.num) -> 0
Path for /numbers/30.num: 2 --> 53 --> 62
ioctl(/numbers/30.num, 21505, ...) -> -1
Copying /numbers/30.num ...
Path for /numbers/30.num: 2 --> 53 --> 62
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 53
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 62
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 57
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 52
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 61
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 56
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 51
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 60
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 55
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 50
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 59
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 54
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
+ cpy file 2 to 5
+ copy dir 62 -> looking for root 5
+ cpy file 62 to 49
+ copy dir 53 -> looking for root 5
+ cpy file 53 to 58
+ copy dir 5 -> looking for root 5
I am root. ¯\_(ツ)_/¯
+ replace_ref 53 with 58
+ replace_ref 62 with 49
Path for /numbers/30.num: 5 --> 58 --> 49
Copy /numbers/30.num 62 --> 49 == 49
+ storage_write inum: 49
write(/numbers/30.num, 3 bytes, @+0) -> 3
Path for /numbers/30.num: 5 --> 58 --> 49
+ storage_stat(/numbers/31.num)
tree_lookup error
-2
getattr(/numbers/31.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/31.numCopying /numbers ...
Path for /numbers: 5 --> 58
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 58
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 53
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 62
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 57
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 52
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 61
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 56
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 51
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 60
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 55
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 50
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 59
+ cpy file 5 to 7
+ copy dir 58 -> looking for root 7
+ cpy file 58 to 54
+ copy dir 7 -> looking for root 7
I am root. ¯\_(ツ)_/¯
+ replace_ref 58 with 54
Path for /numbers: 7 --> 54
Copy /numbers 58 --> 54 == 54
+ mknod create /numbers/31.num [100644] - #63
+ dirent = '31.num'
+ directory_put(..., 31.num, 63) -> 0
node{mode: 40755, size: 620}
mknod(/numbers/31.num, 100644) -> 0
Path for /numbers/31.num: 7 --> 54 --> 63
+ storage_stat(/numbers/31.num)
+ storage_stat(/numbers/31.num); inode 63
node{mode: 100644, size: 0}
getattr(/numbers/31.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/31.num: 7 --> 54 --> 63
access(/numbers/31.num, 0000) -> 0
open(/numbers/31.num) -> 0
Path for /numbers/31.num: 7 --> 54 --> 63
ioctl(/numbers/31.num, 21505, ...) -> -1
Copying /numbers/31.num ...
Path for /numbers/31.num: 7 --> 54 --> 63
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 54
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 63
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 58
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 53
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 62
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 57
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 52
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 61
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 56
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 51
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 60
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 55
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
+ cpy file 7 to 9
+ copy dir 63 -> looking for root 9
+ cpy file 63 to 50
+ copy dir 54 -> looking for root 9
+ cpy file 54 to 59
+ copy dir 9 -> looking for root 9
I am root. ¯\_(ツ)_/¯
+ replace_ref 54 with 59
+ replace_ref 63 with 50
Path for /numbers/31.num: 9 --> 59 --> 50
Copy /numbers/31.num 63 --> 50 == 50
+ storage_write inum: 50
write(/numbers/31.num, 3 bytes, @+0) -> 3
Path for /numbers/31.num: 9 --> 59 --> 50
+ storage_stat(/numbers/32.num)
tree_lookup error
-2
getattr(/numbers/32.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/32.numCopying /numbers ...
Path for /numbers: 9 --> 59
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 59
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 54
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 63
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 58
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 53
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 62
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 57
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 52
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 61
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 56
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 51
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 60
+ cpy file 9 to 4
+ copy dir 59 -> looking for root 4
+ cpy file 59 to 55
+ copy dir 4 -> looking for root 4
I am root. ¯\_(ツ)_/¯
+ replace_ref 59 with 55
Path for /numbers: 4 --> 55
Copy /numbers 59 --> 55 == 55
+ mknod create /numbers/32.num [100644] - #64
+ dirent = '32.num'
+ directory_put(..., 32.num, 64) -> 0
node{mode: 40755, size: 640}
mknod(/numbers/32.num, 100644) -> 0
Path for /numbers/32.num: 4 --> 55 --> 64
+ storage_stat(/numbers/32.num)
+ storage_stat(/numbers/32.num); inode 64
node{mode: 100644, size: 0}
getattr(/numbers/32.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/32.num: 4 --> 55 --> 64
access(/numbers/32.num, 0000) -> 0
open(/numbers/32.num) -> 0
Path for /numbers/32.num: 4 --> 55 --> 64
ioctl(/numbers/32.num, 21505, ...) -> -1
Copying /numbers/32.num ...
Path for /numbers/32.num: 4 --> 55 --> 64
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 55
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 64
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 59
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 54
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 63
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 58
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 53
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 62
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 57
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 52
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 61
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 56
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
+ cpy file 4 to 8
+ copy dir 64 -> looking for root 8
+ cpy file 64 to 51
+ copy dir 55 -> looking for root 8
+ cpy file 55 to 60
+ copy dir 8 -> looking for root 8
I am root. ¯\_(ツ)_/¯
+ replace_ref 55 with 60
+ replace_ref 64 with 51
Path for /numbers/32.num: 8 --> 60 --> 51
Copy /numbers/32.num 64 --> 51 == 51
+ storage_write inum: 51
write(/numbers/32.num, 3 bytes, @+0) -> 3
Path for /numbers/32.num: 8 --> 60 --> 51
+ storage_stat(/numbers/33.num)
tree_lookup error
-2
getattr(/numbers/33.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/33.numCopying /numbers ...
Path for /numbers: 8 --> 60
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 60
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 55
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 64
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 59
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 54
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 63
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 58
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 53
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 62
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 57
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 52
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 61
+ cpy file 8 to 14
+ copy dir 60 -> looking for root 14
+ cpy file 60 to 56
+ copy dir 14 -> looking for root 14
I am root. ¯\_(ツ)_/¯
+ replace_ref 60 with 56
Path for /numbers: 14 --> 56
Copy /numbers 60 --> 56 == 56
+ mknod create /numbers/33.num [100644] - #65
+ dirent = '33.num'
+ directory_put(..., 33.num, 65) -> 0
node{mode: 40755, size: 660}
mknod(/numbers/33.num, 100644) -> 0
Path for /numbers/33.num: 14 --> 56 --> 65
+ storage_stat(/numbers/33.num)
+ storage_stat(/numbers/33.num); inode 65
node{mode: 100644, size: 0}
getattr(/numbers/33.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/33.num: 14 --> 56 --> 65
access(/numbers/33.num, 0000) -> 0
open(/numbers/33.num) -> 0
Path for /numbers/33.num: 14 --> 56 --> 65
ioctl(/numbers/33.num, 21505, ...) -> -1
Copying /numbers/33.num ...
Path for /numbers/33.num: 14 --> 56 --> 65
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 56
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 65
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 60
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 55
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 64
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 59
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 54
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 63
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 58
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 53
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 62
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 57
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
+ cpy file 14 to 0
+ copy dir 65 -> looking for root 0
+ cpy file 65 to 52
+ copy dir 56 -> looking for root 0
+ cpy file 56 to 61
+ copy dir 0 -> looking for root 0
I am root. ¯\_(ツ)_/¯
+ replace_ref 56 with 61
+ replace_ref 65 with 52
Path for /numbers/33.num: 0 --> 61 --> 52
Copy /numbers/33.num 65 --> 52 == 52
+ storage_write inum: 52
write(/numbers/33.num, 3 bytes, @+0) -> 3
Path for /numbers/33.num: 0 --> 61 --> 52
+ storage_stat(/numbers/34.num)
tree_lookup error
-2
getattr(/numbers/34.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/34.numCopying /numbers ...
Path for /numbers: 0 --> 61
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 61
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 56
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 65
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 60
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 55
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 64
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 59
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 54
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 63
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 58
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 53
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 62
+ cpy file 0 to 1
+ copy dir 61 -> looking for root 1
+ cpy file 61 to 57
+ copy dir 1 -> looking for root 1
I am root. ¯\_(ツ)_/¯
+ replace_ref 61 with 57
Path for /numbers: 1 --> 57
Copy /numbers 61 --> 57 == 57
+ mknod create /numbers/34.num [100644] - #66
+ dirent = '34.num'
+ directory_put(..., 34.num, 66) -> 0
node{mode: 40755, size: 680}
mknod(/numbers/34.num, 100644) -> 0
Path for /numbers/34.num: 1 --> 57 --> 66
+ storage_stat(/numbers/34.num)
+ storage_stat(/numbers/34.num); inode 66
node{mode: 100644, size: 0}
getattr(/numbers/34.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/34.num: 1 --> 57 --> 66
access(/numbers/34.num, 0000) -> 0
open(/numbers/34.num) -> 0
Path for /numbers/34.num: 1 --> 57 --> 66
ioctl(/numbers/34.num, 21505, ...) -> -1
Copying /numbers/34.num ...
Path for /numbers/34.num: 1 --> 57 --> 66
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 57
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 66
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 61
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 56
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 65
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 60
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 55
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 64
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 59
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 54
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 63
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 58
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
+ cpy file 1 to 2
+ copy dir 66 -> looking for root 2
+ cpy file 66 to 53
+ copy dir 57 -> looking for root 2
+ cpy file 57 to 62
+ copy dir 2 -> looking for root 2
I am root. ¯\_(ツ)_/¯
+ replace_ref 57 with 62
+ replace_ref 66 with 53
Path for /numbers/34.num: 2 --> 62 --> 53
Copy /numbers/34.num 66 --> 53 == 53
+ storage_write inum: 53
write(/numbers/34.num, 3 bytes, @+0) -> 3
Path for /numbers/34.num: 2 --> 62 --> 53
+ storage_stat(/numbers/35.num)
tree_lookup error
-2
getattr(/numbers/35.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/35.numCopying /numbers ...
Path for /numbers: 2 --> 62
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 62
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 57
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 66
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 61
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 56
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 65
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 60
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 55
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 64
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 59
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 54
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 63
+ cpy file 2 to 5
+ copy dir 62 -> looking for root 5
+ cpy file 62 to 58
+ copy dir 5 -> looking for root 5
I am root. ¯\_(ツ)_/¯
+ replace_ref 62 with 58
Path for /numbers: 5 --> 58
Copy /numbers 62 --> 58 == 58
+ mknod create /numbers/35.num [100644] - #67
+ dirent = '35.num'
+ directory_put(..., 35.num, 67) -> 0
node{mode: 40755, size: 700}
mknod(/numbers/35.num, 100644) -> 0
Path for /numbers/35.num: 5 --> 58 --> 67
+ storage_stat(/numbers/35.num)
+ storage_stat(/numbers/35.num); inode 67
node{mode: 100644, size: 0}
getattr(/numbers/35.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/35.num: 5 --> 58 --> 67
access(/numbers/35.num, 0000) -> 0
open(/numbers/35.num) -> 0
Path for /numbers/35.num: 5 --> 58 --> 67
ioctl(/numbers/35.num, 21505, ...) -> -1
Copying /numbers/35.num ...
Path for /numbers/35.num: 5 --> 58 --> 67
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 58
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 67
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 62
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 57
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 66
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 61
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 56
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 65
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 60
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 55
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 64
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 59
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
+ cpy file 5 to 7
+ copy dir 67 -> looking for root 7
+ cpy file 67 to 54
+ copy dir 58 -> looking for root 7
+ cpy file 58 to 63
+ copy dir 7 -> looking for root 7
I am root. ¯\_(ツ)_/¯
+ replace_ref 58 with 63
+ replace_ref 67 with 54
Path for /numbers/35.num: 7 --> 63 --> 54
Copy /numbers/35.num 67 --> 54 == 54
+ storage_write inum: 54
write(/numbers/35.num, 3 bytes, @+0) -> 3
Path for /numbers/35.num: 7 --> 63 --> 54
+ storage_stat(/numbers/36.num)
tree_lookup error
-2
getattr(/numbers/36.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/36.numCopying /numbers ...
Path for /numbers: 7 --> 63
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 63
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 58
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 67
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 62
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 57
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 66
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 61
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 56
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 65
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 60
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 55
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 64
+ cpy file 7 to 9
+ copy dir 63 -> looking for root 9
+ cpy file 63 to 59
+ copy dir 9 -> looking for root 9
I am root. ¯\_(ツ)_/¯
+ replace_ref 63 with 59
Path for /numbers: 9 --> 59
Copy /numbers 63 --> 59 == 59
+ mknod create /numbers/36.num [100644] - #68
+ dirent = '36.num'
+ directory_put(..., 36.num, 68) -> 0
node{mode: 40755, size: 720}
mknod(/numbers/36.num, 100644) -> 0
Path for /numbers/36.num: 9 --> 59 --> 68
+ storage_stat(/numbers/36.num)
+ storage_stat(/numbers/36.num); inode 68
node{mode: 100644, size: 0}
getattr(/numbers/36.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/36.num: 9 --> 59 --> 68
access(/numbers/36.num, 0000) -> 0
open(/numbers/36.num) -> 0
Path for /numbers/36.num: 9 --> 59 --> 68
ioctl(/numbers/36.num, 21505, ...) -> -1
Copying /numbers/36.num ...
Path for /numbers/36.num: 9 --> 59 --> 68
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 59
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 68
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 63
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 58
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 67
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 62
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 57
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 66
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 61
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 56
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 65
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 60
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
+ cpy file 9 to 4
+ copy dir 68 -> looking for root 4
+ cpy file 68 to 55
+ copy dir 59 -> looking for root 4
+ cpy file 59 to 64
+ copy dir 4 -> looking for root 4
I am root. ¯\_(ツ)_/¯
+ replace_ref 59 with 64
+ replace_ref 68 with 55
Path for /numbers/36.num: 4 --> 64 --> 55
Copy /numbers/36.num 68 --> 55 == 55
+ storage_write inum: 55
write(/numbers/36.num, 3 bytes, @+0) -> 3
Path for /numbers/36.num: 4 --> 64 --> 55
+ storage_stat(/numbers/37.num)
tree_lookup error
-2
getattr(/numbers/37.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/37.numCopying /numbers ...
Path for /numbers: 4 --> 64
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 64
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 59
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 68
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 63
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 58
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 67
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 62
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 57
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 66
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 61
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 56
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 65
+ cpy file 4 to 8
+ copy dir 64 -> looking for root 8
+ cpy file 64 to 60
+ copy dir 8 -> looking for root 8
I am root. ¯\_(ツ)_/¯
+ replace_ref 64 with 60
Path for /numbers: 8 --> 60
Copy /numbers 64 --> 60 == 60
+ mknod create /numbers/37.num [100644] - #69
+ dirent = '37.num'
+ directory_put(..., 37.num, 69) -> 0
node{mode: 40755, size: 740}
mknod(/numbers/37.num, 100644) -> 0
Path for /numbers/37.num: 8 --> 60 --> 69
+ storage_stat(/numbers/37.num)
+ storage_stat(/numbers/37.num); inode 69
node{mode: 100644, size: 0}
getattr(/numbers/37.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/37.num: 8 --> 60 --> 69
access(/numbers/37.num, 0000) -> 0
open(/numbers/37.num) -> 0
Path for /numbers/37.num: 8 --> 60 --> 69
ioctl(/numbers/37.num, 21505, ...) -> -1
Copying /numbers/37.num ...
Path for /numbers/37.num: 8 --> 60 --> 69
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 60
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 69
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 64
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 59
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 68
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 63
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 58
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 67
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 62
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 57
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 66
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 61
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
+ cpy file 8 to 14
+ copy dir 69 -> looking for root 14
+ cpy file 69 to 56
+ copy dir 60 -> looking for root 14
+ cpy file 60 to 65
+ copy dir 14 -> looking for root 14
I am root. ¯\_(ツ)_/¯
+ replace_ref 60 with 65
+ replace_ref 69 with 56
Path for /numbers/37.num: 14 --> 65 --> 56
Copy /numbers/37.num 69 --> 56 == 56
+ storage_write inum: 56
write(/numbers/37.num, 3 bytes, @+0) -> 3
Path for /numbers/37.num: 14 --> 65 --> 56
+ storage_stat(/numbers/38.num)
tree_lookup error
-2
getattr(/numbers/38.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/38.numCopying /numbers ...
Path for /numbers: 14 --> 65
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 65
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 60
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 69
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 64
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 59
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 68
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 63
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 58
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 67
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 62
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 57
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 66
+ cpy file 14 to 0
+ copy dir 65 -> looking for root 0
+ cpy file 65 to 61
+ copy dir 0 -> looking for root 0
I am root. ¯\_(ツ)_/¯
+ replace_ref 65 with 61
Path for /numbers: 0 --> 61
Copy /numbers 65 --> 61 == 61
+ mknod create /numbers/38.num [100644] - #70
+ dirent = '38.num'
+ directory_put(..., 38.num, 70) -> 0
node{mode: 40755, size: 760}
mknod(/numbers/38.num, 100644) -> 0
Path for /numbers/38.num: 0 --> 61 --> 70
+ storage_stat(/numbers/38.num)
+ storage_stat(/numbers/38.num); inode 70
node{mode: 100644, size: 0}
getattr(/numbers/38.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/38.num: 0 --> 61 --> 70
access(/numbers/38.num, 0000) -> 0
open(/numbers/38.num) -> 0
Path for /numbers/38.num: 0 --> 61 --> 70
ioctl(/numbers/38.num, 21505, ...) -> -1
Copying /numbers/38.num ...
Path for /numbers/38.num: 0 --> 61 --> 70
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 61
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 70
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 65
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 60
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 69
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 64
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 59
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 68
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 63
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 58
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 67
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 62
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
+ cpy file 0 to 1
+ copy dir 70 -> looking for root 1
+ cpy file 70 to 57
+ copy dir 61 -> looking for root 1
+ cpy file 61 to 66
+ copy dir 1 -> looking for root 1
I am root. ¯\_(ツ)_/¯
+ replace_ref 61 with 66
+ replace_ref 70 with 57
Path for /numbers/38.num: 1 --> 66 --> 57
Copy /numbers/38.num 70 --> 57 == 57
+ storage_write inum: 57
write(/numbers/38.num, 3 bytes, @+0) -> 3
Path for /numbers/38.num: 1 --> 66 --> 57
+ storage_stat(/numbers/39.num)
tree_lookup error
-2
getattr(/numbers/39.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/39.numCopying /numbers ...
Path for /numbers: 1 --> 66
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 66
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 61
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 70
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 65
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 60
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 69
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 64
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 59
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 68
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 63
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 58
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 67
+ cpy file 1 to 2
+ copy dir 66 -> looking for root 2
+ cpy file 66 to 62
+ copy dir 2 -> looking for root 2
I am root. ¯\_(ツ)_/¯
+ replace_ref 66 with 62
Path for /numbers: 2 --> 62
Copy /numbers 66 --> 62 == 62
+ mknod create /numbers/39.num [100644] - #71
+ dirent = '39.num'
+ directory_put(..., 39.num, 71) -> 0
node{mode: 40755, size: 780}
mknod(/numbers/39.num, 100644) -> 0
Path for /numbers/39.num: 2 --> 62 --> 71
+ storage_stat(/numbers/39.num)
+ storage_stat(/numbers/39.num); inode 71
node{mode: 100644, size: 0}
getattr(/numbers/39.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/39.num: 2 --> 62 --> 71
access(/numbers/39.num, 0000) -> 0
open(/numbers/39.num) -> 0
Path for /numbers/39.num: 2 --> 62 --> 71
ioctl(/numbers/39.num, 21505, ...) -> -1
Copying /numbers/39.num ...
Path for /numbers/39.num: 2 --> 62 --> 71
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 62
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 71
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 66
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 61
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 70
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 65
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 60
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 69
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 64
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 59
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 68
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 63
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
+ cpy file 2 to 5
+ copy dir 71 -> looking for root 5
+ cpy file 71 to 58
+ copy dir 62 -> looking for root 5
+ cpy file 62 to 67
+ copy dir 5 -> looking for root 5
I am root. ¯\_(ツ)_/¯
+ replace_ref 62 with 67
+ replace_ref 71 with 58
Path for /numbers/39.num: 5 --> 67 --> 58
Copy /numbers/39.num 71 --> 58 == 58
+ storage_write inum: 58
write(/numbers/39.num, 3 bytes, @+0) -> 3
Path for /numbers/39.num: 5 --> 67 --> 58
+ storage_stat(/numbers/40.num)
tree_lookup error
-2
getattr(/numbers/40.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/40.numCopying /numbers ...
Path for /numbers: 5 --> 67
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 67
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 62
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 71
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 66
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 61
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 70
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 65
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 60
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 69
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 64
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 59
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 68
+ cpy file 5 to 7
+ copy dir 67 -> looking for root 7
+ cpy file 67 to 63
+ copy dir 7 -> looking for root 7
I am root. ¯\_(ツ)_/¯
+ replace_ref 67 with 63
Path for /numbers: 7 --> 63
Copy /numbers 67 --> 63 == 63
+ mknod create /numbers/40.num [100644] - #72
+ dirent = '40.num'
+ directory_put(..., 40.num, 72) -> 0
node{mode: 40755, size: 800}
mknod(/numbers/40.num, 100644) -> 0
Path for /numbers/40.num: 7 --> 63 --> 72
+ storage_stat(/numbers/40.num)
+ storage_stat(/numbers/40.num); inode 72
node{mode: 100644, size: 0}
getattr(/numbers/40.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/40.num: 7 --> 63 --> 72
access(/numbers/40.num, 0000) -> 0
open(/numbers/40.num) -> 0
Path for /numbers/40.num: 7 --> 63 --> 72
ioctl(/numbers/40.num, 21505, ...) -> -1
Copying /numbers/40.num ...
Path for /numbers/40.num: 7 --> 63 --> 72
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 63
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 72
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 67
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 62
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 71
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 66
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 61
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 70
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 65
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 60
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 69
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 64
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
+ cpy file 7 to 9
+ copy dir 72 -> looking for root 9
+ cpy file 72 to 59
+ copy dir 63 -> looking for root 9
+ cpy file 63 to 68
+ copy dir 9 -> looking for root 9
I am root. ¯\_(ツ)_/¯
+ replace_ref 63 with 68
+ replace_ref 72 with 59
Path for /numbers/40.num: 9 --> 68 --> 59
Copy /numbers/40.num 72 --> 59 == 59
+ storage_write inum: 59
write(/numbers/40.num, 3 bytes, @+0) -> 3
Path for /numbers/40.num: 9 --> 68 --> 59
+ storage_stat(/numbers/41.num)
tree_lookup error
-2
getattr(/numbers/41.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/41.numCopying /numbers ...
Path for /numbers: 9 --> 68
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 68
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 63
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 72
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 67
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 62
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 71
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 66
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 61
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 70
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 65
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 60
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 69
+ cpy file 9 to 4
+ copy dir 68 -> looking for root 4
+ cpy file 68 to 64
+ copy dir 4 -> looking for root 4
I am root. ¯\_(ツ)_/¯
+ replace_ref 68 with 64
Path for /numbers: 4 --> 64
Copy /numbers 68 --> 64 == 64
+ mknod create /numbers/41.num [100644] - #73
+ dirent = '41.num'
+ directory_put(..., 41.num, 73) -> 0
node{mode: 40755, size: 820}
mknod(/numbers/41.num, 100644) -> 0
Path for /numbers/41.num: 4 --> 64 --> 73
+ storage_stat(/numbers/41.num)
+ storage_stat(/numbers/41.num); inode 73
node{mode: 100644, size: 0}
getattr(/numbers/41.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/41.num: 4 --> 64 --> 73
access(/numbers/41.num, 0000) -> 0
open(/numbers/41.num) -> 0
Path for /numbers/41.num: 4 --> 64 --> 73
ioctl(/numbers/41.num, 21505, ...) -> -1
Copying /numbers/41.num ...
Path for /numbers/41.num: 4 --> 64 --> 73
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 64
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 73
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 68
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 63
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 72
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 67
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 62
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 71
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 66
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 61
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 70
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 65
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
+ cpy file 4 to 8
+ copy dir 73 -> looking for root 8
+ cpy file 73 to 60
+ copy dir 64 -> looking for root 8
+ cpy file 64 to 69
+ copy dir 8 -> looking for root 8
I am root. ¯\_(ツ)_/¯
+ replace_ref 64 with 69
+ replace_ref 73 with 60
Path for /numbers/41.num: 8 --> 69 --> 60
Copy /numbers/41.num 73 --> 60 == 60
+ storage_write inum: 60
write(/numbers/41.num, 3 bytes, @+0) -> 3
Path for /numbers/41.num: 8 --> 69 --> 60
+ storage_stat(/numbers/42.num)
tree_lookup error
-2
getattr(/numbers/42.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/42.numCopying /numbers ...
Path for /numbers: 8 --> 69
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 69
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 64
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 73
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 68
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 63
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 72
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 67
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 62
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 71
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 66
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 61
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 70
+ cpy file 8 to 14
+ copy dir 69 -> looking for root 14
+ cpy file 69 to 65
+ copy dir 14 -> looking for root 14
I am root. ¯\_(ツ)_/¯
+ replace_ref 69 with 65
Path for /numbers: 14 --> 65
Copy /numbers 69 --> 65 == 65
+ mknod create /numbers/42.num [100644] - #74
+ dirent = '42.num'
+ directory_put(..., 42.num, 74) -> 0
node{mode: 40755, size: 840}
mknod(/numbers/42.num, 100644) -> 0
Path for /numbers/42.num: 14 --> 65 --> 74
+ storage_stat(/numbers/42.num)
+ storage_stat(/numbers/42.num); inode 74
node{mode: 100644, size: 0}
getattr(/numbers/42.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/42.num: 14 --> 65 --> 74
access(/numbers/42.num, 0000) -> 0
open(/numbers/42.num) -> 0
Path for /numbers/42.num: 14 --> 65 --> 74
ioctl(/numbers/42.num, 21505, ...) -> -1
Copying /numbers/42.num ...
Path for /numbers/42.num: 14 --> 65 --> 74
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 65
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 74
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 69
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 64
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 73
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 68
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 63
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 72
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 67
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 62
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 71
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 66
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
+ cpy file 14 to 0
+ copy dir 74 -> looking for root 0
+ cpy file 74 to 61
+ copy dir 65 -> looking for root 0
+ cpy file 65 to 70
+ copy dir 0 -> looking for root 0
I am root. ¯\_(ツ)_/¯
+ replace_ref 65 with 70
+ replace_ref 74 with 61
Path for /numbers/42.num: 0 --> 70 --> 61
Copy /numbers/42.num 74 --> 61 == 61
+ storage_write inum: 61
write(/numbers/42.num, 3 bytes, @+0) -> 3
Path for /numbers/42.num: 0 --> 70 --> 61
+ storage_stat(/numbers/43.num)
tree_lookup error
-2
getattr(/numbers/43.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/43.numCopying /numbers ...
Path for /numbers: 0 --> 70
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 70
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 65
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 74
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 69
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 64
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 73
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 68
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 63
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 72
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 67
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 62
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 71
+ cpy file 0 to 1
+ copy dir 70 -> looking for root 1
+ cpy file 70 to 66
+ copy dir 1 -> looking for root 1
I am root. ¯\_(ツ)_/¯
+ replace_ref 70 with 66
Path for /numbers: 1 --> 66
Copy /numbers 70 --> 66 == 66
+ mknod create /numbers/43.num [100644] - #75
+ dirent = '43.num'
+ directory_put(..., 43.num, 75) -> 0
node{mode: 40755, size: 860}
mknod(/numbers/43.num, 100644) -> 0
Path for /numbers/43.num: 1 --> 66 --> 75
+ storage_stat(/numbers/43.num)
+ storage_stat(/numbers/43.num); inode 75
node{mode: 100644, size: 0}
getattr(/numbers/43.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/43.num: 1 --> 66 --> 75
access(/numbers/43.num, 0000) -> 0
open(/numbers/43.num) -> 0
Path for /numbers/43.num: 1 --> 66 --> 75
ioctl(/numbers/43.num, 21505, ...) -> -1
Copying /numbers/43.num ...
Path for /numbers/43.num: 1 --> 66 --> 75
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 66
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 75
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 70
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 65
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 74
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 69
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 64
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 73
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 68
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 63
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 72
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 67
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
+ cpy file 1 to 2
+ copy dir 75 -> looking for root 2
+ cpy file 75 to 62
+ copy dir 66 -> looking for root 2
+ cpy file 66 to 71
+ copy dir 2 -> looking for root 2
I am root. ¯\_(ツ)_/¯
+ replace_ref 66 with 71
+ replace_ref 75 with 62
Path for /numbers/43.num: 2 --> 71 --> 62
Copy /numbers/43.num 75 --> 62 == 62
+ storage_write inum: 62
write(/numbers/43.num, 3 bytes, @+0) -> 3
Path for /numbers/43.num: 2 --> 71 --> 62
+ storage_stat(/numbers/44.num)
tree_lookup error
-2
getattr(/numbers/44.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/44.numCopying /numbers ...
Path for /numbers: 2 --> 71
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 71
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 66
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 75
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 70
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 65
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 74
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 69
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 64
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 73
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 68
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 63
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 72
+ cpy file 2 to 5
+ copy dir 71 -> looking for root 5
+ cpy file 71 to 67
+ copy dir 5 -> looking for root 5
I am root. ¯\_(ツ)_/¯
+ replace_ref 71 with 67
Path for /numbers: 5 --> 67
Copy /numbers 71 --> 67 == 67
+ mknod create /numbers/44.num [100644] - #76
+ dirent = '44.num'
+ directory_put(..., 44.num, 76) -> 0
node{mode: 40755, size: 880}
mknod(/numbers/44.num, 100644) -> 0
Path for /numbers/44.num: 5 --> 67 --> 76
+ storage_stat(/numbers/44.num)
+ storage_stat(/numbers/44.num); inode 76
node{mode: 100644, size: 0}
getattr(/numbers/44.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/44.num: 5 --> 67 --> 76
access(/numbers/44.num, 0000) -> 0
open(/numbers/44.num) -> 0
Path for /numbers/44.num: 5 --> 67 --> 76
ioctl(/numbers/44.num, 21505, ...) -> -1
Copying /numbers/44.num ...
Path for /numbers/44.num: 5 --> 67 --> 76
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 67
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 76
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 71
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 66
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 75
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 70
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 65
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 74
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 69
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 64
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 73
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 68
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
+ cpy file 5 to 7
+ copy dir 76 -> looking for root 7
+ cpy file 76 to 63
+ copy dir 67 -> looking for root 7
+ cpy file 67 to 72
+ copy dir 7 -> looking for root 7
I am root. ¯\_(ツ)_/¯
+ replace_ref 67 with 72
+ replace_ref 76 with 63
Path for /numbers/44.num: 7 --> 72 --> 63
Copy /numbers/44.num 76 --> 63 == 63
+ storage_write inum: 63
write(/numbers/44.num, 3 bytes, @+0) -> 3
Path for /numbers/44.num: 7 --> 72 --> 63
+ storage_stat(/numbers/45.num)
tree_lookup error
-2
getattr(/numbers/45.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/45.numCopying /numbers ...
Path for /numbers: 7 --> 72
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 72
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 67
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 76
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 71
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 66
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 75
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 70
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 65
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 74
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 69
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 64
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 73
+ cpy file 7 to 9
+ copy dir 72 -> looking for root 9
+ cpy file 72 to 68
+ copy dir 9 -> looking for root 9
I am root. ¯\_(ツ)_/¯
+ replace_ref 72 with 68
Path for /numbers: 9 --> 68
Copy /numbers 72 --> 68 == 68
+ mknod create /numbers/45.num [100644] - #77
+ dirent = '45.num'
+ directory_put(..., 45.num, 77) -> 0
node{mode: 40755, size: 900}
mknod(/numbers/45.num, 100644) -> 0
Path for /numbers/45.num: 9 --> 68 --> 77
+ storage_stat(/numbers/45.num)
+ storage_stat(/numbers/45.num); inode 77
node{mode: 100644, size: 0}
getattr(/numbers/45.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/45.num: 9 --> 68 --> 77
access(/numbers/45.num, 0000) -> 0
open(/numbers/45.num) -> 0
Path for /numbers/45.num: 9 --> 68 --> 77
ioctl(/numbers/45.num, 21505, ...) -> -1
Copying /numbers/45.num ...
Path for /numbers/45.num: 9 --> 68 --> 77
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 68
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 77
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 72
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 67
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 76
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 71
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 66
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 75
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 70
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 65
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 74
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 69
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
+ cpy file 9 to 4
+ copy dir 77 -> looking for root 4
+ cpy file 77 to 64
+ copy dir 68 -> looking for root 4
+ cpy file 68 to 73
+ copy dir 4 -> looking for root 4
I am root. ¯\_(ツ)_/¯
+ replace_ref 68 with 73
+ replace_ref 77 with 64
Path for /numbers/45.num: 4 --> 73 --> 64
Copy /numbers/45.num 77 --> 64 == 64
+ storage_write inum: 64
write(/numbers/45.num, 3 bytes, @+0) -> 3
Path for /numbers/45.num: 4 --> 73 --> 64
+ storage_stat(/numbers/46.num)
tree_lookup error
-2
getattr(/numbers/46.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/46.numCopying /numbers ...
Path for /numbers: 4 --> 73
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 73
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 68
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 77
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 72
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 67
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 76
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 71
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 66
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 75
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 70
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 65
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 74
+ cpy file 4 to 8
+ copy dir 73 -> looking for root 8
+ cpy file 73 to 69
+ copy dir 8 -> looking for root 8
I am root. ¯\_(ツ)_/¯
+ replace_ref 73 with 69
Path for /numbers: 8 --> 69
Copy /numbers 73 --> 69 == 69
+ mknod create /numbers/46.num [100644] - #78
+ dirent = '46.num'
+ directory_put(..., 46.num, 78) -> 0
node{mode: 40755, size: 920}
mknod(/numbers/46.num, 100644) -> 0
Path for /numbers/46.num: 8 --> 69 --> 78
+ storage_stat(/numbers/46.num)
+ storage_stat(/numbers/46.num); inode 78
node{mode: 100644, size: 0}
getattr(/numbers/46.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/46.num: 8 --> 69 --> 78
access(/numbers/46.num, 0000) -> 0
open(/numbers/46.num) -> 0
Path for /numbers/46.num: 8 --> 69 --> 78
ioctl(/numbers/46.num, 21505, ...) -> -1
Copying /numbers/46.num ...
Path for /numbers/46.num: 8 --> 69 --> 78
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 69
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 78
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 73
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 68
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 77
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 72
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 67
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 76
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 71
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 66
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 75
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 70
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
+ cpy file 8 to 14
+ copy dir 78 -> looking for root 14
+ cpy file 78 to 65
+ copy dir 69 -> looking for root 14
+ cpy file 69 to 74
+ copy dir 14 -> looking for root 14
I am root. ¯\_(ツ)_/¯
+ replace_ref 69 with 74
+ replace_ref 78 with 65
Path for /numbers/46.num: 14 --> 74 --> 65
Copy /numbers/46.num 78 --> 65 == 65
+ storage_write inum: 65
write(/numbers/46.num, 3 bytes, @+0) -> 3
Path for /numbers/46.num: 14 --> 74 --> 65
+ storage_stat(/numbers/47.num)
tree_lookup error
-2
getattr(/numbers/47.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/47.numCopying /numbers ...
Path for /numbers: 14 --> 74
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 74
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 69
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 78
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 73
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 68
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 77
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 72
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 67
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 76
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 71
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 66
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 75
+ cpy file 14 to 0
+ copy dir 74 -> looking for root 0
+ cpy file 74 to 70
+ copy dir 0 -> looking for root 0
I am root. ¯\_(ツ)_/¯
+ replace_ref 74 with 70
Path for /numbers: 0 --> 70
Copy /numbers 74 --> 70 == 70
+ mknod create /numbers/47.num [100644] - #79
+ dirent = '47.num'
+ directory_put(..., 47.num, 79) -> 0
node{mode: 40755, size: 940}
mknod(/numbers/47.num, 100644) -> 0
Path for /numbers/47.num: 0 --> 70 --> 79
+ storage_stat(/numbers/47.num)
+ storage_stat(/numbers/47.num); inode 79
node{mode: 100644, size: 0}
getattr(/numbers/47.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/47.num: 0 --> 70 --> 79
access(/numbers/47.num, 0000) -> 0
open(/numbers/47.num) -> 0
Path for /numbers/47.num: 0 --> 70 --> 79
ioctl(/numbers/47.num, 21505, ...) -> -1
Copying /numbers/47.num ...
Path for /numbers/47.num: 0 --> 70 --> 79
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 70
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 79
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 74
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 69
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 78
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 73
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 68
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 77
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 72
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 67
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 76
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 71
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
+ cpy file 0 to 1
+ copy dir 79 -> looking for root 1
+ cpy file 79 to 66
+ copy dir 70 -> looking for root 1
+ cpy file 70 to 75
+ copy dir 1 -> looking for root 1
I am root. ¯\_(ツ)_/¯
+ replace_ref 70 with 75
+ replace_ref 79 with 66
Path for /numbers/47.num: 1 --> 75 --> 66
Copy /numbers/47.num 79 --> 66 == 66
+ storage_write inum: 66
write(/numbers/47.num, 3 bytes, @+0) -> 3
Path for /numbers/47.num: 1 --> 75 --> 66
+ storage_stat(/numbers/48.num)
tree_lookup error
-2
getattr(/numbers/48.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/48.numCopying /numbers ...
Path for /numbers: 1 --> 75
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 75
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 70
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 79
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 74
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 69
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 78
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 73
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 68
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 77
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 72
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 67
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 76
+ cpy file 1 to 2
+ copy dir 75 -> looking for root 2
+ cpy file 75 to 71
+ copy dir 2 -> looking for root 2
I am root. ¯\_(ツ)_/¯
+ replace_ref 75 with 71
Path for /numbers: 2 --> 71
Copy /numbers 75 --> 71 == 71
+ mknod create /numbers/48.num [100644] - #80
+ dirent = '48.num'
+ directory_put(..., 48.num, 80) -> 0
node{mode: 40755, size: 960}
mknod(/numbers/48.num, 100644) -> 0
Path for /numbers/48.num: 2 --> 71 --> 80
+ storage_stat(/numbers/48.num)
+ storage_stat(/numbers/48.num); inode 80
node{mode: 100644, size: 0}
getattr(/numbers/48.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/48.num: 2 --> 71 --> 80
access(/numbers/48.num, 0000) -> 0
open(/numbers/48.num) -> 0
Path for /numbers/48.num: 2 --> 71 --> 80
ioctl(/numbers/48.num, 21505, ...) -> -1
Copying /numbers/48.num ...
Path for /numbers/48.num: 2 --> 71 --> 80
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 71
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 80
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 75
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 70
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 79
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 74
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 69
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 78
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 73
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 68
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 77
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 72
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
+ cpy file 2 to 5
+ copy dir 80 -> looking for root 5
+ cpy file 80 to 67
+ copy dir 71 -> looking for root 5
+ cpy file 71 to 76
+ copy dir 5 -> looking for root 5
I am root. ¯\_(ツ)_/¯
+ replace_ref 71 with 76
+ replace_ref 80 with 67
Path for /numbers/48.num: 5 --> 76 --> 67
Copy /numbers/48.num 80 --> 67 == 67
+ storage_write inum: 67
write(/numbers/48.num, 3 bytes, @+0) -> 3
Path for /numbers/48.num: 5 --> 76 --> 67
+ storage_stat(/numbers/49.num)
tree_lookup error
-2
getattr(/numbers/49.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/49.numCopying /numbers ...
Path for /numbers: 5 --> 76
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 76
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 71
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 80
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 75
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 70
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 79
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 74
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 69
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 78
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 73
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 68
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 77
+ cpy file 5 to 7
+ copy dir 76 -> looking for root 7
+ cpy file 76 to 72
+ copy dir 7 -> looking for root 7
I am root. ¯\_(ツ)_/¯
+ replace_ref 76 with 72
Path for /numbers: 7 --> 72
Copy /numbers 76 --> 72 == 72
+ mknod create /numbers/49.num [100644] - #81
+ dirent = '49.num'
+ directory_put(..., 49.num, 81) -> 0
node{mode: 40755, size: 980}
mknod(/numbers/49.num, 100644) -> 0
Path for /numbers/49.num: 7 --> 72 --> 81
+ storage_stat(/numbers/49.num)
+ storage_stat(/numbers/49.num); inode 81
node{mode: 100644, size: 0}
getattr(/numbers/49.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/49.num: 7 --> 72 --> 81
access(/numbers/49.num, 0000) -> 0
open(/numbers/49.num) -> 0
Path for /numbers/49.num: 7 --> 72 --> 81
ioctl(/numbers/49.num, 21505, ...) -> -1
Copying /numbers/49.num ...
Path for /numbers/49.num: 7 --> 72 --> 81
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 72
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 81
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 76
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 71
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 80
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 75
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 70
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 79
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 74
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 69
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 78
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 73
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
+ cpy file 7 to 9
+ copy dir 81 -> looking for root 9
+ cpy file 81 to 68
+ copy dir 72 -> looking for root 9
+ cpy file 72 to 77
+ copy dir 9 -> looking for root 9
I am root. ¯\_(ツ)_/¯
+ replace_ref 72 with 77
+ replace_ref 81 with 68
Path for /numbers/49.num: 9 --> 77 --> 68
Copy /numbers/49.num 81 --> 68 == 68
+ storage_write inum: 68
write(/numbers/49.num, 3 bytes, @+0) -> 3
Path for /numbers/49.num: 9 --> 77 --> 68
+ storage_stat(/numbers/50.num)
tree_lookup error
-2
getattr(/numbers/50.num) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /numbers/50.numCopying /numbers ...
Path for /numbers: 9 --> 77
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 77
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 68
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 72
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 81
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 76
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 71
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 80
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 75
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 70
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 79
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 74
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 69
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 78
+ cpy file 9 to 4
+ copy dir 77 -> looking for root 4
+ cpy file 77 to 73
+ copy dir 4 -> looking for root 4
I am root. ¯\_(ツ)_/¯
+ replace_ref 77 with 73
Path for /numbers: 4 --> 73
Copy /numbers 77 --> 73 == 73
+ mknod create /numbers/50.num [100644] - #82
+ dirent = '50.num'
+ directory_put(..., 50.num, 82) -> 0
node{mode: 40755, size: 1000}
mknod(/numbers/50.num, 100644) -> 0
Path for /numbers/50.num: 4 --> 73 --> 82
+ storage_stat(/numbers/50.num)
+ storage_stat(/numbers/50.num); inode 82
node{mode: 100644, size: 0}
getattr(/numbers/50.num) -> (0) {mode: 100644, size: 0}
Path for /numbers/50.num: 4 --> 73 --> 82
access(/numbers/50.num, 0000) -> 0
open(/numbers/50.num) -> 0
Path for /numbers/50.num: 4 --> 73 --> 82
ioctl(/numbers/50.num, 21505, ...) -> -1
Copying /numbers/50.num ...
Path for /numbers/50.num: 4 --> 73 --> 82
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 73
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 68
garbage mark node 82
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 77
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 68
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 72
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 81
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 76
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 71
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 80
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 75
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 70
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 79
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 74
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
+ cpy file 4 to 8
+ copy dir 82 -> looking for root 8
+ cpy file 82 to 69
+ copy dir 73 -> looking for root 8
+ cpy file 73 to 78
+ copy dir 8 -> looking for root 8
I am root. ¯\_(ツ)_/¯
+ replace_ref 73 with 78
+ replace_ref 82 with 69
Path for /numbers/50.num: 8 --> 78 --> 69
Copy /numbers/50.num 82 --> 69 == 69
+ storage_write inum: 69
write(/numbers/50.num, 3 bytes, @+0) -> 3
Path for /numbers/50.num: 8 --> 78 --> 69
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 78
node{mode: 40755, size: 1000}
getattr(/numbers) -> (0) {mode: 40755, size: 1000}
Path for /numbers: 8 --> 78
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 78
node{mode: 40755, size: 1000}
+ looking at path: '50.num'
+ storage_stat(/numbers/50.num)
+ storage_stat(/numbers/50.num); inode 69
node{mode: 100644, size: 3}
+ looking at path: '49.num'
+ storage_stat(/numbers/49.num)
+ storage_stat(/numbers/49.num); inode 68
node{mode: 100644, size: 3}
+ looking at path: '48.num'
+ storage_stat(/numbers/48.num)
+ storage_stat(/numbers/48.num); inode 67
node{mode: 100644, size: 3}
+ looking at path: '47.num'
+ storage_stat(/numbers/47.num)
+ storage_stat(/numbers/47.num); inode 66
node{mode: 100644, size: 3}
+ looking at path: '46.num'
+ storage_stat(/numbers/46.num)
+ storage_stat(/numbers/46.num); inode 65
node{mode: 100644, size: 3}
+ looking at path: '45.num'
+ storage_stat(/numbers/45.num)
+ storage_stat(/numbers/45.num); inode 64
node{mode: 100644, size: 3}
+ looking at path: '44.num'
+ storage_stat(/numbers/44.num)
+ storage_stat(/numbers/44.num); inode 63
node{mode: 100644, size: 3}
+ looking at path: '43.num'
+ storage_stat(/numbers/43.num)
+ storage_stat(/numbers/43.num); inode 62
node{mode: 100644, size: 3}
+ looking at path: '42.num'
+ storage_stat(/numbers/42.num)
+ storage_stat(/numbers/42.num); inode 61
node{mode: 100644, size: 3}
+ looking at path: '41.num'
+ storage_stat(/numbers/41.num)
+ storage_stat(/numbers/41.num); inode 60
node{mode: 100644, size: 3}
+ looking at path: '40.num'
+ storage_stat(/numbers/40.num)
+ storage_stat(/numbers/40.num); inode 59
node{mode: 100644, size: 3}
+ looking at path: '39.num'
+ storage_stat(/numbers/39.num)
+ storage_stat(/numbers/39.num); inode 58
node{mode: 100644, size: 3}
+ looking at path: '38.num'
+ storage_stat(/numbers/38.num)
+ storage_stat(/numbers/38.num); inode 57
node{mode: 100644, size: 3}
+ looking at path: '37.num'
+ storage_stat(/numbers/37.num)
+ storage_stat(/numbers/37.num); inode 56
node{mode: 100644, size: 3}
+ looking at path: '36.num'
+ storage_stat(/numbers/36.num)
+ storage_stat(/numbers/36.num); inode 55
node{mode: 100644, size: 3}
+ looking at path: '35.num'
+ storage_stat(/numbers/35.num)
+ storage_stat(/numbers/35.num); inode 54
node{mode: 100644, size: 3}
+ looking at path: '34.num'
+ storage_stat(/numbers/34.num)
+ storage_stat(/numbers/34.num); inode 53
node{mode: 100644, size: 3}
+ looking at path: '33.num'
+ storage_stat(/numbers/33.num)
+ storage_stat(/numbers/33.num); inode 52
node{mode: 100644, size: 3}
+ looking at path: '32.num'
+ storage_stat(/numbers/32.num)
+ storage_stat(/numbers/32.num); inode 51
node{mode: 100644, size: 3}
+ looking at path: '31.num'
+ storage_stat(/numbers/31.num)
+ storage_stat(/numbers/31.num); inode 50
node{mode: 100644, size: 3}
+ looking at path: '30.num'
+ storage_stat(/numbers/30.num)
+ storage_stat(/numbers/30.num); inode 49
node{mode: 100644, size: 3}
+ looking at path: '29.num'
+ storage_stat(/numbers/29.num)
+ storage_stat(/numbers/29.num); inode 48
node{mode: 100644, size: 3}
+ looking at path: '28.num'
+ storage_stat(/numbers/28.num)
+ storage_stat(/numbers/28.num); inode 47
node{mode: 100644, size: 3}
+ looking at path: '27.num'
+ storage_stat(/numbers/27.num)
+ storage_stat(/numbers/27.num); inode 46
node{mode: 100644, size: 3}
+ looking at path: '26.num'
+ storage_stat(/numbers/26.num)
+ storage_stat(/numbers/26.num); inode 45
node{mode: 100644, size: 3}
+ looking at path: '25.num'
+ storage_stat(/numbers/25.num)
+ storage_stat(/numbers/25.num); inode 44
node{mode: 100644, size: 3}
+ looking at path: '24.num'
+ storage_stat(/numbers/24.num)
+ storage_stat(/numbers/24.num); inode 43
node{mode: 100644, size: 3}
+ looking at path: '23.num'
+ storage_stat(/numbers/23.num)
+ storage_stat(/numbers/23.num); inode 42
node{mode: 100644, size: 3}
+ looking at path: '22.num'
+ storage_stat(/numbers/22.num)
+ storage_stat(/numbers/22.num); inode 36
node{mode: 100644, size: 3}
+ looking at path: '21.num'
+ storage_stat(/numbers/21.num)
+ storage_stat(/numbers/21.num); inode 35
node{mode: 100644, size: 3}
+ looking at path: '20.num'
+ storage_stat(/numbers/20.num)
+ storage_stat(/numbers/20.num); inode 34
node{mode: 100644, size: 3}
+ looking at path: '19.num'
+ storage_stat(/numbers/19.num)
+ storage_stat(/numbers/19.num); inode 33
node{mode: 100644, size: 3}
+ looking at path: '18.num'
+ storage_stat(/numbers/18.num)
+ storage_stat(/numbers/18.num); inode 29
node{mode: 100644, size: 3}
+ looking at path: '17.num'
+ storage_stat(/numbers/17.num)
+ storage_stat(/numbers/17.num); inode 26
node{mode: 100644, size: 3}
+ looking at path: '16.num'
+ storage_stat(/numbers/16.num)
+ storage_stat(/numbers/16.num); inode 24
node{mode: 100644, size: 3}
+ looking at path: '15.num'
+ storage_stat(/numbers/15.num)
+ storage_stat(/numbers/15.num); inode 22
node{mode: 100644, size: 3}
+ looking at path: '14.num'
+ storage_stat(/numbers/14.num)
+ storage_stat(/numbers/14.num); inode 31
node{mode: 100644, size: 3}
+ looking at path: '13.num'
+ storage_stat(/numbers/13.num)
+ storage_stat(/numbers/13.num); inode 28
node{mode: 100644, size: 3}
+ looking at path: '12.num'
+ storage_stat(/numbers/12.num)
+ storage_stat(/numbers/12.num); inode 25
node{mode: 100644, size: 3}
+ looking at path: '11.num'
+ storage_stat(/numbers/11.num)
+ storage_stat(/numbers/11.num); inode 23
node{mode: 100644, size: 3}
+ looking at path: '10.num'
+ storage_stat(/numbers/10.num)
+ storage_stat(/numbers/10.num); inode 32
node{mode: 100644, size: 3}
+ looking at path: '9.num'
+ storage_stat(/numbers/9.num)
+ storage_stat(/numbers/9.num); inode 11
node{mode: 100644, size: 2}
+ looking at path: '8.num'
+ storage_stat(/numbers/8.num)
+ storage_stat(/numbers/8.num); inode 17
node{mode: 100644, size: 2}
+ looking at path: '7.num'
+ storage_stat(/numbers/7.num)
+ storage_stat(/numbers/7.num); inode 21
node{mode: 100644, size: 2}
+ looking at path: '6.num'
+ storage_stat(/numbers/6.num)
+ storage_stat(/numbers/6.num); inode 20
node{mode: 100644, size: 2}
+ looking at path: '5.num'
+ storage_stat(/numbers/5.num)
+ storage_stat(/numbers/5.num); inode 30
node{mode: 100644, size: 2}
+ looking at path: '4.num'
+ storage_stat(/numbers/4.num)
+ storage_stat(/numbers/4.num); inode 27
node{mode: 100644, size: 2}
+ looking at path: '3.num'
+ storage_stat(/numbers/3.num)
+ storage_stat(/numbers/3.num); inode 6
node{mode: 100644, size: 2}
+ looking at path: '2.num'
+ storage_stat(/numbers/2.num)
+ storage_stat(/numbers/2.num); inode 16
node{mode: 100644, size: 2}
+ looking at path: '1.num'
+ storage_stat(/numbers/1.num)
+ storage_stat(/numbers/1.num); inode 15
node{mode: 100644, size: 2}
readdir(/numbers) -> 0
Path for /numbers: 8 --> 78
access(/numbers/10.num, 0000) -> 0
open(/numbers/10.num) -> 0
Path for /numbers/10.num: 8 --> 78 --> 32
ioctl(/numbers/10.num, 21505, ...) -> -1
+ storage_stat(/numbers/10.num)
+ storage_stat(/numbers/10.num); inode 32
node{mode: 100644, size: 3}
getattr(/numbers/10.num) -> (0) {mode: 100644, size: 3}
Path for /numbers/10.num: 8 --> 78 --> 32
In link 0:	33
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/numbers/10.num); inode 32
node{mode: 100644, size: 3}
read(/numbers/10.num, 4096 bytes, @+0) -> 3
Path for /numbers/10.num: 8 --> 78 --> 32
+ storage_stat(/numbers/10.num)
+ storage_stat(/numbers/10.num); inode 32
node{mode: 100644, size: 3}
getattr(/numbers/10.num) -> (0) {mode: 100644, size: 3}
Path for /numbers/10.num: 8 --> 78 --> 32
access(/numbers/20.num, 0000) -> 0
open(/numbers/20.num) -> 0
Path for /numbers/20.num: 8 --> 78 --> 34
ioctl(/numbers/20.num, 21505, ...) -> -1
+ storage_stat(/numbers/20.num)
+ storage_stat(/numbers/20.num); inode 34
node{mode: 100644, size: 3}
getattr(/numbers/20.num) -> (0) {mode: 100644, size: 3}
Path for /numbers/20.num: 8 --> 78 --> 34
In link 0:	48
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/numbers/20.num); inode 34
node{mode: 100644, size: 3}
read(/numbers/20.num, 4096 bytes, @+0) -> 3
Path for /numbers/20.num: 8 --> 78 --> 34
+ storage_stat(/numbers/20.num)
+ storage_stat(/numbers/20.num); inode 34
node{mode: 100644, size: 3}
getattr(/numbers/20.num) -> (0) {mode: 100644, size: 3}
Path for /numbers/20.num: 8 --> 78 --> 34
access(/numbers/30.num, 0000) -> 0
open(/numbers/30.num) -> 0
Path for /numbers/30.num: 8 --> 78 --> 49
ioctl(/numbers/30.num, 21505, ...) -> -1
+ storage_stat(/numbers/30.num)
+ storage_stat(/numbers/30.num); inode 49
node{mode: 100644, size: 3}
getattr(/numbers/30.num) -> (0) {mode: 100644, size: 3}
Path for /numbers/30.num: 8 --> 78 --> 49
In link 0:	58
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/numbers/30.num); inode 49
node{mode: 100644, size: 3}
read(/numbers/30.num, 4096 bytes, @+0) -> 3
Path for /numbers/30.num: 8 --> 78 --> 49
+ storage_stat(/numbers/30.num)
+ storage_stat(/numbers/30.num); inode 49
node{mode: 100644, size: 3}
getattr(/numbers/30.num) -> (0) {mode: 100644, size: 3}
Path for /numbers/30.num: 8 --> 78 --> 49
access(/numbers/40.num, 0000) -> 0
open(/numbers/40.num) -> 0
Path for /numbers/40.num: 8 --> 78 --> 59
ioctl(/numbers/40.num, 21505, ...) -> -1
+ storage_stat(/numbers/40.num)
+ storage_stat(/numbers/40.num); inode 59
node{mode: 100644, size: 3}
getattr(/numbers/40.num) -> (0) {mode: 100644, size: 3}
Path for /numbers/40.num: 8 --> 78 --> 59
In link 0:	68
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/numbers/40.num); inode 59
node{mode: 100644, size: 3}
read(/numbers/40.num, 4096 bytes, @+0) -> 3
Path for /numbers/40.num: 8 --> 78 --> 59
+ storage_stat(/numbers/40.num)
+ storage_stat(/numbers/40.num); inode 59
node{mode: 100644, size: 3}
getattr(/numbers/40.num) -> (0) {mode: 100644, size: 3}
Path for /numbers/40.num: 8 --> 78 --> 59
access(/numbers/50.num, 0000) -> 0
open(/numbers/50.num) -> 0
Path for /numbers/50.num: 8 --> 78 --> 69
ioctl(/numbers/50.num, 21505, ...) -> -1
+ storage_stat(/numbers/50.num)
+ storage_stat(/numbers/50.num); inode 69
node{mode: 100644, size: 3}
getattr(/numbers/50.num) -> (0) {mode: 100644, size: 3}
Path for /numbers/50.num: 8 --> 78 --> 69
In link 0:	78
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/numbers/50.num); inode 69
node{mode: 100644, size: 3}
read(/numbers/50.num, 4096 bytes, @+0) -> 3
Path for /numbers/50.num: 8 --> 78 --> 69
+ storage_stat(/numbers/50.num)
+ storage_stat(/numbers/50.num); inode 69
node{mode: 100644, size: 3}
getattr(/numbers/50.num) -> (0) {mode: 100644, size: 3}
Path for /numbers/50.num: 8 --> 78 --> 69
+ storage_stat(/numbers/7.num)
+ storage_stat(/numbers/7.num); inode 21
node{mode: 100644, size: 2}
getattr(/numbers/7.num) -> (0) {mode: 100644, size: 2}
Path for /numbers/7.num: 8 --> 78 --> 21
access(/numbers/7.num, 0002) -> 0
Copying /numbers/7.num ...
Path for /numbers/7.num: 8 --> 78 --> 21
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 78
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 68
garbage mark node 69
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 73
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 68
garbage mark node 82
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 77
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 68
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 72
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 81
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 76
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 71
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 80
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 75
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 70
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 79
+ cpy file 8 to 14
+ copy dir 21 -> looking for root 14
+ cpy file 21 to 74
+ copy dir 78 -> looking for root 14
+ cpy file 78 to 83
+ copy dir 14 -> looking for root 14
I am root. ¯\_(ツ)_/¯
+ replace_ref 78 with 83
+ replace_ref 21 with 74
Path for /numbers/7.num: 14 --> 83 --> 74
Copy /numbers/7.num 21 --> 74 == 74
 + directory_delete(7.num)
unlink(/numbers/7.num) -> 0
tree_lookup error
-2
DNE: /numbers/7.num+ storage_stat(/numbers/14.num)
+ storage_stat(/numbers/14.num); inode 31
node{mode: 100644, size: 3}
getattr(/numbers/14.num) -> (0) {mode: 100644, size: 3}
Path for /numbers/14.num: 14 --> 83 --> 31
access(/numbers/14.num, 0002) -> 0
Copying /numbers/14.num ...
Path for /numbers/14.num: 14 --> 83 --> 31
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 83
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 68
garbage mark node 69
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 78
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 68
garbage mark node 69
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 73
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 68
garbage mark node 82
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 77
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 68
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 72
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 81
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 76
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 71
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 80
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 75
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
+ cpy file 14 to 0
+ copy dir 31 -> looking for root 0
+ cpy file 31 to 70
+ copy dir 83 -> looking for root 0
+ cpy file 83 to 74
+ copy dir 0 -> looking for root 0
I am root. ¯\_(ツ)_/¯
+ replace_ref 83 with 74
+ replace_ref 31 with 70
Path for /numbers/14.num: 0 --> 74 --> 70
Copy /numbers/14.num 31 --> 70 == 70
 + directory_delete(14.num)
unlink(/numbers/14.num) -> 0
tree_lookup error
-2
DNE: /numbers/14.num+ storage_stat(/numbers/21.num)
+ storage_stat(/numbers/21.num); inode 35
node{mode: 100644, size: 3}
getattr(/numbers/21.num) -> (0) {mode: 100644, size: 3}
Path for /numbers/21.num: 0 --> 74 --> 35
access(/numbers/21.num, 0002) -> 0
Copying /numbers/21.num ...
Path for /numbers/21.num: 0 --> 74 --> 35
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 74
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 68
garbage mark node 69
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 83
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 68
garbage mark node 69
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 78
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 68
garbage mark node 69
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 73
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 68
garbage mark node 82
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 77
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 68
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 72
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 81
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 76
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 2
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 71
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 80
+ cpy file 0 to 1
+ copy dir 35 -> looking for root 1
+ cpy file 35 to 70
+ copy dir 74 -> looking for root 1
+ cpy file 74 to 75
+ copy dir 1 -> looking for root 1
I am root. ¯\_(ツ)_/¯
+ replace_ref 74 with 75
+ replace_ref 35 with 70
Path for /numbers/21.num: 1 --> 75 --> 70
Copy /numbers/21.num 35 --> 70 == 70
 + directory_delete(21.num)
unlink(/numbers/21.num) -> 0
tree_lookup error
-2
DNE: /numbers/21.num+ storage_stat(/numbers/28.num)
+ storage_stat(/numbers/28.num); inode 47
node{mode: 100644, size: 3}
getattr(/numbers/28.num) -> (0) {mode: 100644, size: 3}
Path for /numbers/28.num: 1 --> 75 --> 47
access(/numbers/28.num, 0002) -> 0
Copying /numbers/28.num ...
Path for /numbers/28.num: 1 --> 75 --> 47
garbage mark node 1
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 75
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 68
garbage mark node 69
garbage mark node 0
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 74
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 68
garbage mark node 69
garbage mark node 14
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 83
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 68
garbage mark node 69
garbage mark node 8
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 78
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 68
garbage mark node 69
garbage mark node 4
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 73
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 68
garbage mark node 82
garbage mark node 9
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 77
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 68
garbage mark node 7
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 72
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
garbage mark node 81
garbage mark node 5
garbage mark node 19
garbage mark node 10
garbage mark node 3
garbage mark node 12
garbage mark node 13
garbage mark node 41
garbage mark node 40
garbage mark node 39
garbage mark node 38
garbage mark node 37
garbage mark node 18
garbage mark node 76
garbage mark node 15
garbage mark node 16
garbage mark node 6
garbage mark node 27
garbage mark node 30
garbage fusermount -u mnt || true
mark node 20
garbage mark node 21
garbage mark node 17
garbage mark node 11
garbage mark node 32
garbage mark node 23
garbage mark node 25
garbage mark node 28
garbage mark node 31
garbage mark node 22
garbage mark node 24
garbage mark node 26
garbage mark node 29
garbage mark node 33
garbage mark node 34
garbage mark node 35
garbage mark node 36
garbage mark node 42
garbage mark node 43
garbage mark node 44
garbage mark node 45
garbage mark node 46
garbage mark node 47
garbage mark node 48
garbage mark node 49
garbage mark node 50
garbage mark node 51
garbage mark node 52
garbage mark node 53
garbage mark node 54
garbage mark node 55
garbage mark node 56
garbage mark node 57
garbage mark node 58
garbage mark node 59
garbage mark node 60
garbage mark node 61
garbage mark node 62
garbage mark node 63
garbage mark node 64
garbage mark node 65
garbage mark node 66
garbage mark node 67
+ cpy file 1 to 2
+ copy dir 47 -> looking for root 2
+ cpy file 47 to 70
+ copy dir 75 -> looking for root 2
+ cpy file 75 to 71
+ copy dir 2 -> looking for root 2
I am root. ¯\_(ツ)_/¯
+ replace_ref 75 with 71
+ replace_ref 47 with 70
Path for /numbers/28.num: 2 --> 71 --> 70
Copy /numbers/28.num 47 --> 70 == 70
 + directory_delete(28.num)
unlink(/numbers/28.num) -> 0
tree_lookup error
-2
DNE: /numbers/28.nummake disk0.cow
make[1]: Entering directory '/home/kelly/Documents/cs3650-ch3'
make[1]: 'disk0.cow' is up to date.
make[1]: Leaving directory '/home/kelly/Documents/cs3650-ch3'
./cowmount -s -f mnt disk0.cow
access(/, 0004) -> 0
+ storage_stat(/BDMV)
tree_lookup error
-2
getattr(/BDMV) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /BDMV+ storage_stat(/.xdg-volume-info)
tree_lookup error
-2
getattr(/.xdg-volume-info) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.xdg-volume-info+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/.Trash)
tree_lookup error
-2
getattr(/.Trash) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash+ storage_stat(/.Trash-1000)
tree_lookup error
-2
getattr(/.Trash-1000) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash-1000+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 2
+ storage_stat(/)
+ storage_stat(/); inode 2
node{mode: 40755, size: 120}
+ looking at path: 'numbers'
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: 'dir1'
+ storage_stat(/dir1)
+ storage_stat(/dir1); inode 41
node{mode: 40755, size: 20}
+ looking at path: '40k.txt'
+ storage_stat(/40k.txt)
+ storage_stat(/40k.txt); inode 13
node{mode: 100644, size: 40001}
+ looking at path: '2k.txt'
+ storage_stat(/2k.txt)
+ storage_stat(/2k.txt); inode 12
node{mode: 100644, size: 2001}
+ looking at path: 'def.txt'
+ storage_stat(/def.txt)
+ storage_stat(/def.txt); inode 3
node{mode: 100644, size: 11}
+ looking at path: 'foo'
+ storage_stat(/foo)
+ storage_stat(/foo); inode 19
node{mode: 40755, size: 20}
readdir(/) -> 0
Path for /: 2
+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
getattr(/numbers) -> (0) {mode: 40755, size: 1000}
Path for /numbers: 2 --> 71
+ storage_stat(/numbers)
+ storage_stat(/numbers); inode 71
node{mode: 40755, size: 1000}
+ looking at path: '50.num'
+ storage_stat(/numbers/50.num)
+ storage_stat(/numbers/50.num); inode 69
node{mode: 100644, size: 3}
+ looking at path: '49.num'
+ storage_stat(/numbers/49.num)
+ storage_stat(/numbers/49.num); inode 68
node{mode: 100644, size: 3}
+ looking at path: '48.num'
+ storage_stat(/numbers/48.num)
+ storage_stat(/numbers/48.num); inode 67
node{mode: 100644, size: 3}
+ looking at path: '47.num'
+ storage_stat(/numbers/47.num)
+ storage_stat(/numbers/47.num); inode 66
node{mode: 100644, size: 3}
+ looking at path: '46.num'
+ storage_stat(/numbers/46.num)
+ storage_stat(/numbers/46.num); inode 65
node{mode: 100644, size: 3}
+ looking at path: '45.num'
+ storage_stat(/numbers/45.num)
+ storage_stat(/numbers/45.num); inode 64
node{mode: 100644, size: 3}
+ looking at path: '44.num'
+ storage_stat(/numbers/44.num)
+ storage_stat(/numbers/44.num); inode 63
node{mode: 100644, size: 3}
+ looking at path: '43.num'
+ storage_stat(/numbers/43.num)
+ storage_stat(/numbers/43.num); inode 62
node{mode: 100644, size: 3}
+ looking at path: '42.num'
+ storage_stat(/numbers/42.num)
+ storage_stat(/numbers/42.num); inode 61
node{mode: 100644, size: 3}
+ looking at path: '41.num'
+ storage_stat(/numbers/41.num)
+ storage_stat(/numbers/41.num); inode 60
node{mode: 100644, size: 3}
+ looking at path: '40.num'
+ storage_stat(/numbers/40.num)
+ storage_stat(/numbers/40.num); inode 59
node{mode: 100644, size: 3}
+ looking at path: '39.num'
+ storage_stat(/numbers/39.num)
+ storage_stat(/numbers/39.num); inode 58
node{mode: 100644, size: 3}
+ looking at path: '38.num'
+ storage_stat(/numbers/38.num)
+ storage_stat(/numbers/38.num); inode 57
node{mode: 100644, size: 3}
+ looking at path: '37.num'
+ storage_stat(/numbers/37.num)
+ storage_stat(/numbers/37.num); inode 56
node{mode: 100644, size: 3}
+ looking at path: '36.num'
+ storage_stat(/numbers/36.num)
+ storage_stat(/numbers/36.num); inode 55
node{mode: 100644, size: 3}
+ looking at path: '35.num'
+ storage_stat(/numbers/35.num)
+ storage_stat(/numbers/35.num); inode 54
node{mode: 100644, size: 3}
+ looking at path: '34.num'
+ storage_stat(/numbers/34.num)
+ storage_stat(/numbers/34.num); inode 53
node{mode: 100644, size: 3}
+ looking at path: '33.num'
+ storage_stat(/numbers/33.num)
+fusermount -u mnt || true
 storage_stat(/numbers/33.num); inode 52
node{mode: 100644, size: 3}
+ looking at path: '32.num'
+ storage_stat(/numbers/32.num)
+ storage_stat(/numbers/32.num); inode 51
node{mode: 100644, size: 3}
+ looking at path: '31.num'
+ storage_stat(/numbers/31.num)
+ storage_stat(/numbers/31.num); inode 50
node{mode: 100644, size: 3}
+ looking at path: '30.num'
+ storage_stat(/numbers/30.num)
+ storage_stat(/numbers/30.num); inode 49
node{mode: 100644, size: 3}
+ looking at path: '29.num'
+ storage_stat(/numbers/29.num)
+ storage_stat(/numbers/29.num); inode 48
node{mode: 100644, size: 3}
+ looking at path: '27.num'
+ storage_stat(/numbers/27.num)
+ storage_stat(/numbers/27.num); inode 46
node{mode: 100644, size: 3}
+ looking at path: '26.num'
+ storage_stat(/numbers/26.num)
+ storage_stat(/numbers/26.num); inode 45
node{mode: 100644, size: 3}
+ looking at path: '25.num'
+ storage_stat(/numbers/25.num)
+ storage_stat(/numbers/25.num); inode 44
node{mode: 100644, size: 3}
+ looking at path: '24.num'
+ storage_stat(/numbers/24.num)
+ storage_stat(/numbers/24.num); inode 43
node{mode: 100644, size: 3}
+ looking at path: '23.num'
+ storage_stat(/numbers/23.num)
+ storage_stat(/numbers/23.num); inode 42
node{mode: 100644, size: 3}
+ looking at path: '22.num'
+ storage_stat(/numbers/22.num)
+ storage_stat(/numbers/22.num); inode 36
node{mode: 100644, size: 3}
+ looking at path: '20.num'
+ storage_stat(/numbers/20.num)
+ storage_stat(/numbers/20.num); inode 34
node{mode: 100644, size: 3}
+ looking at path: '19.num'
+ storage_stat(/numbers/19.num)
+ storage_stat(/numbers/19.num); inode 33
node{mode: 100644, size: 3}
+ looking at path: '18.num'
+ storage_stat(/numbers/18.num)
+ storage_stat(/numbers/18.num); inode 29
node{mode: 100644, size: 3}
+ looking at path: '17.num'
+ storage_stat(/numbers/17.num)
+ storage_stat(/numbers/17.num); inode 26
node{mode: 100644, size: 3}
+ looking at path: '16.num'
+ storage_stat(/numbers/16.num)
+ storage_stat(/numbers/16.num); inode 24
node{mode: 100644, size: 3}
+ looking at path: '15.num'
+ storage_stat(/numbers/15.num)
+ storage_stat(/numbers/15.num); inode 22
node{mode: 100644, size: 3}
+ looking at path: '13.num'
+ storage_stat(/numbers/13.num)
+ storage_stat(/numbers/13.num); inode 28
node{mode: 100644, size: 3}
+ looking at path: '12.num'
+ storage_stat(/numbers/12.num)
+ storage_stat(/numbers/12.num); inode 25
node{mode: 100644, size: 3}
+ looking at path: '11.num'
+ storage_stat(/numbers/11.num)
+ storage_stat(/numbers/11.num); inode 23
node{mode: 100644, size: 3}
+ looking at path: '10.num'
+ storage_stat(/numbers/10.num)
+ storage_stat(/numbers/10.num); inode 32
node{mode: 100644, size: 3}
+ looking at path: '9.num'
+ storage_stat(/numbers/9.num)
+ storage_stat(/numbers/9.num); inode 11
node{mode: 100644, size: 2}
+ looking at path: '8.num'
+ storage_stat(/numbers/8.num)
+ storage_stat(/numbers/8.num); inode 17
node{mode: 100644, size: 2}
+ looking at path: '6.num'
+ storage_stat(/numbers/6.num)
+ storage_stat(/numbers/6.num); inode 20
node{mode: 100644, size: 2}
+ looking at path: '5.num'
+ storage_stat(/numbers/5.num)
+ storage_stat(/numbers/5.num); inode 30
node{mode: 100644, size: 2}
+ looking at path: '4.num'
+ storage_stat(/numbers/4.num)
+ storage_stat(/numbers/4.num); inode 27
node{mode: 100644, size: 2}
+ looking at path: '3.num'
+ storage_stat(/numbers/3.num)
+ storage_stat(/numbers/3.num); inode 6
node{mode: 100644, size: 2}
+ looking at path: '2.num'
+ storage_stat(/numbers/2.num)
+ storage_stat(/numbers/2.num); inode 16
node{mode: 100644, size: 2}
+ looking at path: '1.num'
+ storage_stat(/numbers/1.num)
+ storage_stat(/numbers/1.num); inode 15
node{mode: 100644, size: 2}
readdir(/numbers) -> 0
Path for /numbers: 2 --> 71
make disk0.cow
make[1]: Entering directory '/home/kelly/Documents/cs3650-ch3'
mkdir -p mnt || true
if [ ! -e disk0.cow ]; then ./cowtool new disk0.cow; fi
Created disk image: disk0.cow
make[1]: Leaving directory '/home/kelly/Documents/cs3650-ch3'
./cowmount -s -f mnt disk0.cow
access(/, 0004) -> 0
+ storage_stat(/.Trash)
tree_lookup error
-2
getattr(/.Trash) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash+ storage_stat(/.Trash-1000)
tree_lookup error
-2
getattr(/.Trash-1000) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash-1000+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/BDMV)
tree_lookup error
-2
getattr(/BDMV) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /BDMV+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/.xdg-volume-info)
tree_lookup error
-2
getattr(/.xdg-volume-info) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.xdg-volume-info+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
getattr(/) -> (0) {mode: 40755, size: 0}
DNE: /+ storage_stat(/)
+ storage_stat(/); inode 0
node{mode: 40755, size: 0}
readdir(/) -> 0
DNE: /+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/x1.txt)
tree_lookup error
-2
getattr(/x1.txt) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /x1.txtCopying / ...
DNE: /garbage mark node 0
+ cpy file 0 to 1
+ copy dir 1 -> looking for root 1
I am root. ¯\_(ツ)_/¯
Path for /: 1
Copy / 0 --> 1 == 1
+ mknod create /x1.txt [100644] - #2
+ dirent = 'x1.txt'
+ directory_put(..., x1.txt, 2) -> 0
node{mode: 40755, size: 20}
mknod(/x1.txt, 100644) -> 0
Path for /x1.txt: 1 --> 2
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 2
node{mode: 100644, size: 0}
getattr(/x1.txt) -> (0) {mode: 100644, size: 0}
Path for /x1.txt: 1 --> 2
access(/x1.txt, 0000) -> 0
open(/x1.txt) -> 0
Path for /x1.txt: 1 --> 2
ioctl(/x1.txt, 21505, ...) -> -1
Copying /x1.txt ...
Path for /x1.txt: 1 --> 2
garbage mark node 1
garbage mark node 2
garbage mark node 0
+ cpy file 1 to 3
+ copy dir 2 -> looking for root 3
+ cpy file 2 to 4
+ copy dir 3 -> looking for root 3
I am root. ¯\_(ツ)_/¯
+ replace_ref 2 with 4
Path for /x1.txt: 3 --> 4
Copy /x1.txt 2 --> 4 == 4
+ storage_write inum: 4
write(/x1.txt, 8 bytes, @+0) -> 8
Path for /x1.txt: 3 --> 4
+ storage_stat(/x2.txt)
tree_lookup error
-2
getattr(/x2.txt) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /x2.txtCopying / ...
Path for /: 3
garbage mark node 3
garbage mark node 4
garbage mark node 1
garbage mark node 2
garbage mark node 0
+ cpy file 3 to 5
+ copy dir 5 -> looking for root 5
I am root. ¯\_(ツ)_/¯
Path for /: 5
Copy / 3 --> 5 == 5
+ mknod create /x2.txt [100644] - #6
+ dirent = 'x2.txt'
+ directory_put(..., x2.txt, 6) -> 0
node{mode: 40755, size: 40}
mknod(/x2.txt, 100644) -> 0
Path for /x2.txt: 5 --> 6
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 6
node{mode: 100644, size: 0}
getattr(/x2.txt) -> (0) {mode: 100644, size: 0}
Path for /x2.txt: 5 --> 6
access(/x2.txt, 0000) -> 0
open(/x2.txt) -> 0
Path for /x2.txt: 5 --> 6
ioctl(/x2.txt, 21505, ...) -> -1
Copying /x2.txt ...
Path for /x2.txt: 5 --> 6
garbage mark node 5
garbage mark node 4
garbage mark node 6
garbage mark node 3
garbage mark node 4
garbage mark node 1
garbage mark node 2
garbage mark node 0
+ cpy file 5 to 7
+ copy dir 6 -> looking for root 7
+ cpy file 6 to 8
+ copy dir 7 -> looking for root 7
I am root. ¯\_(ツ)_/¯
+ replace_ref 6 with 8
Path for /x2.txt: 7 --> 8
Copy /x2.txt 6 --> 8 == 8
+ storage_write inum: 8
write(/x2.txt, 8 bytes, @+0) -> 8
Path for /x2.txt: 7 --> 8
+ storage_stat(/x3.txt)
tree_lookup error
-2
getattr(/x3.txt) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /x3.txtCopying / ...
Path for /: 7
garbage mark node 7
garbage mark node 4
garbage mark node 8
garbage mark node 5
garbage mark node 4
garbage mark node 6
garbage mark node 3
garbage mark node 4
garbage mark node 1
garbage mark node 2
garbage mark node 0
+ cpy file 7 to 9
+ copy dir 9 -> looking for root 9
I am root. ¯\_(ツ)_/¯
Path for /: 9
Copy / 7 --> 9 == 9
+ mknod create /x3.txt [100644] - #10
+ dirent = 'x3.txt'
+ directory_put(..., x3.txt, 10) -> 0
node{mode: 40755, size: 60}
mknod(/x3.txt, 100644) -> 0
Path for /x3.txt: 9 --> 10
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 10
node{mode: 100644, size: 0}
getattr(/x3.txt) -> (0) {mode: 100644, size: 0}
Path for /x3.txt: 9 --> 10
access(/x3.txt, 0000) -> 0
open(/x3.txt) -> 0
Path for /x3.txt: 9 --> 10
ioctl(/x3.txt, 21505, ...) -> -1
Copying /x3.txt ...
Path for /x3.txt: 9 --> 10
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
garbage mark node 7
garbage mark node 4
garbage mark node 8
garbage mark node 5
garbage mark node 4
garbage mark node 6
garbage mark node 3
garbage mark node 4
garbage mark node 1
garbage mark node 2
garbage mark node 0
+ cpy file 9 to 11
+ copy dir 10 -> looking for root 11
+ cpy file 10 to 12
+ copy dir 11 -> looking for root 11
I am root. ¯\_(ツ)_/¯
+ replace_ref 10 with 12
Path for /x3.txt: 11 --> 12
Copy /x3.txt 10 --> 12 == 12
+ storage_write inum: 12
write(/x3.txt, 8 bytes, @+0) -> 8
Path for /x3.txt: 11 --> 12
+ storage_stat(/x4.txt)
tree_lookup error
-2
getattr(/x4.txt) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /x4.txtCopying / ...
Path for /: 11
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
garbage mark node 7
garbage mark node 4
garbage mark node 8
garbage mark node 5
garbage mark node 4
garbage mark node 6
garbage mark node 3
garbage mark node 4
garbage mark node 1
garbage mark node 2
garbage mark node 0
+ cpy file 11 to 13
+ copy dir 13 -> looking for root 13
I am root. ¯\_(ツ)_/¯
Path for /: 13
Copy / 11 --> 13 == 13
+ mknod create /x4.txt [100644] - #14
+ dirent = 'x4.txt'
+ directory_put(..., x4.txt, 14) -> 0
node{mode: 40755, size: 80}
mknod(/x4.txt, 100644) -> 0
Path for /x4.txt: 13 --> 14
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 14
node{mode: 100644, size: 0}
getattr(/x4.txt) -> (0) {mode: 100644, size: 0}
Path for /x4.txt: 13 --> 14
access(/x4.txt, 0000) -> 0
open(/x4.txt) -> 0
Path for /x4.txt: 13 --> 14
ioctl(/x4.txt, 21505, ...) -> -1
Copying /x4.txt ...
Path for /x4.txt: 13 --> 14
garbage mark node 13
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 14
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
garbage mark node 7
garbage mark node 4
garbage mark node 8
garbage mark node 5
garbage mark node 4
garbage mark node 6
garbage mark node 3
garbage mark node 4
garbage mark node 1
garbage mark node 2
garbage mark node 0
+ cpy file 13 to 15
+ copy dir 14 -> looking for root 15
+ cpy file 14 to 16
+ copy dir 15 -> looking for root 15
I am root. ¯\_(ツ)_/¯
+ replace_ref 14 with 16
Path for /x4.txt: 15 --> 16
Copy /x4.txt 14 --> 16 == 16
+ storage_write inum: 16
write(/x4.txt, 8 bytes, @+0) -> 8
Path for /x4.txt: 15 --> 16
+ storage_stat(/x5.txt)
tree_lookup error
-2
getattr(/x5.txt) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /x5.txtCopying / ...
Path for /: 15
garbage mark node 15
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 13
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 14
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
garbage mark node 7
garbage mark node 4
garbage mark node 8
garbage mark node fusermount -u mnt || true
5
garbage mark node 4
garbage mark node 6
garbage mark node 3
garbage mark node 4
garbage mark node 1
garbage mark node 2
+ cpy file 15 to 0
+ copy dir 0 -> looking for root 0
I am root. ¯\_(ツ)_/¯
DNE: /Copy / 15 --> 0 == 0
+ mknod create /x5.txt [100644] - #17
+ dirent = 'x5.txt'
+ directory_put(..., x5.txt, 17) -> 0
node{mode: 40755, size: 100}
mknod(/x5.txt, 100644) -> 0
Path for /x5.txt: 0 --> 17
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 17
node{mode: 100644, size: 0}
getattr(/x5.txt) -> (0) {mode: 100644, size: 0}
Path for /x5.txt: 0 --> 17
access(/x5.txt, 0000) -> 0
open(/x5.txt) -> 0
Path for /x5.txt: 0 --> 17
ioctl(/x5.txt, 21505, ...) -> -1
Copying /x5.txt ...
Path for /x5.txt: 0 --> 17
garbage mark node 0
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 17
garbage mark node 15
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 13
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 14
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
garbage mark node 7
garbage mark node 4
garbage mark node 8
garbage mark node 5
garbage mark node 4
garbage mark node 6
garbage mark node 3
garbage mark node 4
+ cpy file 0 to 1
+ copy dir 17 -> looking for root 1
+ cpy file 17 to 2
+ copy dir 1 -> looking for root 1
I am root. ¯\_(ツ)_/¯
+ replace_ref 17 with 2
Path for /x5.txt: 1 --> 2
Copy /x5.txt 17 --> 2 == 2
+ storage_write inum: 2
write(/x5.txt, 8 bytes, @+0) -> 8
Path for /x5.txt: 1 --> 2
make disk0.cow
make[1]: Entering directory '/home/kelly/Documents/cs3650-ch3'
make[1]: 'disk0.cow' is up to date.
make[1]: Leaving directory '/home/kelly/Documents/cs3650-ch3'
./cowmount -s -f mnt disk0.cow
access(/, 0004) -> 0
+ storage_stat(/.Trash)
tree_lookup error
-2
getattr(/.Trash) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash+ storage_stat(/.Trash-1000)
tree_lookup error
-2
getattr(/.Trash-1000) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash-1000+ storage_stat(/BDMV)
tree_lookup error
-2
getattr(/BDMV) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /BDMV+ storage_stat(/.xdg-volume-info)
tree_lookup error
-2
getattr(/.xdg-volume-info) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.xdg-volume-info+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
getattr(/x4.txt) -> (0) {mode: 100644, size: 8}
Path for /x4.txt: 1 --> 16
Copying /x4.txt ...
Path for /x4.txt: 1 --> 16
garbage mark node 1
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 0
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 17
garbage mark node 15
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 13
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 14
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
garbage mark node 7
garbage mark node 4
garbage mark node 8
garbage mark node 5
garbage mark node 4
garbage mark node 6
+ cpy file 1 to 3
+ copy dir 16 -> looking for root 3
+ cpy file 16 to 18
+ copy dir 3 -> looking for root 3
I am root. ¯\_(ツ)_/¯
+ replace_ref 16 with 18
Path for /x4.txt: 3 --> 18
Copy /x4.txt 16 --> 18 == 18
 + directory_delete(x4.txt)
unlink(/xfusermount -u mnt || true
4.txt) -> 0
tree_lookup error
-2
DNE: /x4.txtmake disk0.cow
make[1]: Entering directory '/home/kelly/Documents/cs3650-ch3'
make[1]: 'disk0.cow' is up to date.
make[1]: Leaving directory '/home/kelly/Documents/cs3650-ch3'
./cowmount -s -f mnt disk0.cow
access(/, 0004) -> 0
+ storage_stat(/.Trash)
tree_lookup error
-2
getattr(/.Trash) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash+ storage_stat(/.Trash-1000)
tree_lookup error
-2
getattr(/.Trash-1000) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash-1000+ storage_stat(/BDMV)
tree_lookup error
-2
getattr(/BDMV) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /BDMV+ storage_stat(/.xdg-volume-info)
tree_lookup error
-2
getattr(/.xdg-volume-info) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.xdg-volume-info+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at pfusermount -u mnt || true
ath: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
getattr(/x4.txt) -> (0) {mode: 100644, size: 8}
Path for /x4.txt: 1 --> 16
access(/x4.txt, 0000) -> 0
open(/x4.txt) -> 0
Path for /x4.txt: 1 --> 16
ioctl(/x4.txt, 21505, ...) -> -1
In link 0:	15
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/x4.txt); inode 16
node{mode: 100644, size: 8}
read(/x4.txt, 4096 bytes, @+0) -> 8
Path for /x4.txt: 1 --> 16
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
getattr(/x4.txt) -> (0) {mode: 100644, size: 8}
Path for /x4.txt: 1 --> 16
make disk0.cow
make[1]: Entering directory '/home/kelly/Documents/cs3650-ch3'
make[1]: 'disk0.cow' is up to date.
make[1]: Leaving directory '/home/kelly/Documents/cs3650-ch3'
./cowmount -s -f mnt disk0.cow
access(/, 0004) -> 0
+ storage_stat(/.Trash)
tree_lookup error
-2
getattr(/.Trash) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash+ storage_stat(/.Trash-1000)
tree_lookup error
-2
getattr(/.Trash-1000) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash-1000+ storage_stat(/BDMV)
tree_lookup error
-2
getattr(/BDMV) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /BDMV+ storage_stat(/.xdg-volume-info)
tree_lookup error
-2
getattr(/.xdg-volume-info) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.xdg-volume-info+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/mknod.txt)
tree_lookup error
-2
getattr(/mknod.txt) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /mknod.txtCopying / ...
Path for /: 1
garbage mark node 1
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 0
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 17
garbage mark node 15
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 13
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 14
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
garbage mark node 7
garbage mark node 4
garbage mark node 8
+ cpy file 1 to 3
+ copy dir 3 -> looking for root 3
I am root. ¯\_(ツ)_/¯
Path for /: 3
Copy / 1 --> 3 == 3
+ mknod create /mknod.txt [100644] - #5
+ dirent = 'mknod.txt'
+ directory_put(..., mknod.txt, 5) -> 0
node{mode: 40755, size: 120}
mknod(/mknod.txt, 100644) -> 0
Path for /mknod.txt: 3 --> 5
+ storage_stat(/mknod.txt)
+ storage_stat(/mknod.txt);fusermount -u mnt || true
 inode 5
node{mode: 100644, size: 0}
getattr(/mknod.txt) -> (0) {mode: 100644, size: 0}
Path for /mknod.txt: 3 --> 5
access(/mknod.txt, 0000) -> 0
open(/mknod.txt) -> 0
Path for /mknod.txt: 3 --> 5
ioctl(/mknod.txt, 21505, ...) -> -1
Copying /mknod.txt ...
Path for /mknod.txt: 3 --> 5
garbage mark node 3
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 5
garbage mark node 1
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 0
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 17
garbage mark node 15
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 13
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 14
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
garbage mark node 7
garbage mark node 4
garbage mark node 8
+ cpy file 3 to 6
+ copy dir 5 -> looking for root 6
+ cpy file 5 to 18
+ copy dir 6 -> looking for root 6
I am root. ¯\_(ツ)_/¯
+ replace_ref 5 with 18
Path for /mknod.txt: 6 --> 18
Copy /mknod.txt 5 --> 18 == 18
+ storage_write inum: 18
write(/mknod.txt, 6 bytes, @+0) -> 6
Path for /mknod.txt: 6 --> 18
make disk0.cow
make[1]: Entering directory '/home/kelly/Documents/cs3650-ch3'
make[1]: 'disk0.cow' is up to date.
make[1]: Leaving directory '/home/kelly/Documents/cs3650-ch3'
./cowmount -s -f mnt disk0.cow
access(/, 0004) -> 0
+ storage_stat(/.Trash)
tree_lookup error
-2
getattr(/.Trash) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash+ storage_stat(/.Trash-1000)
tree_lookup error
-2
getattr(/.Trash-1000) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash-1000+ storage_stat(/BDMV)
tree_lookup error
-2
getattr(/BDMV) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /BDMV+ storage_stat(/.xdg-volume-info)
tree_lookup error
-2
getattr(/.xdg-volume-info) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.xdg-volume-info+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
getattr(/x3.txt) -> (0) {mode: 100644, size: 8}
Path for /x3.txt: 1 --> 12
access(/x3.txt, 0000) -> 0
open(/x3.txt) -> 0
Path for /x3.txt: 1 --> 12
ioctl(/x3.txt, 21505, ...) -> -1
In link 0:	11
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/x3.txt); inode 12
node{mode: 100644, size: 8}
read(/x3.txt, 4096 bytes, @+0) -> 8
Path for /x3.txt: 1 --> 12
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
getattr(/x3.txt) -> (0) {mode: 100644, size: 8}
Path for /x3.txt: 1 --> 12
access(/x3.txt, 0000) -> 0
open(/x3.txt) -> 0
Path for /x3.txt: 1 --> 12
Copying /x3.txt ...
Path for /x3.txt: 1 --> 12
garbage mark node 1
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 0
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 17
garbage mark node 15
garbage mark node 4
garbafusermount -u mnt || true
ge mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 13
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 14
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
+ cpy file 1 to 3
+ copy dir 12 -> looking for root 3
+ cpy file 12 to 5
+ copy dir 3 -> looking for root 3
I am root. ¯\_(ツ)_/¯
+ replace_ref 12 with 5
Path for /x3.txt: 3 --> 5
Copy /x3.txt 12 --> 5 == 5
truncate(/x3.txt, 0 bytes) -> 0
Path for /x3.txt: 3 --> 5
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 5
node{mode: 100644, size: 0}
getattr(/x3.txt) -> (0) {mode: 100644, size: 0}
Path for /x3.txt: 3 --> 5
ioctl(/x3.txt, 21505, ...) -> -1
Copying /x3.txt ...
Path for /x3.txt: 3 --> 5
garbage mark node 3
garbage mark node 4
garbage mark node 8
garbage mark node 5
garbage mark node 16
garbage mark node 2
garbage mark node 1
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 0
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 17
garbage mark node 15
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 13
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 14
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
+ cpy file 3 to 6
+ copy dir 5 -> looking for root 6
+ cpy file 5 to 7
+ copy dir 6 -> looking for root 6
I am root. ¯\_(ツ)_/¯
+ replace_ref 5 with 7
Path for /x3.txt: 6 --> 7
Copy /x3.txt 5 --> 7 == 7
+ storage_write inum: 7
write(/x3.txt, 44 bytes, @+0) -> 44
Path for /x3.txt: 6 --> 7
access(/x3.txt, 0000) -> 0
open(/x3.txt) -> 0
Path for /x3.txt: 6 --> 7
ioctl(/x3.txt, 21505, ...) -> -1
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 7
node{mode: 100644, size: 44}
getattr(/x3.txt) -> (0) {mode: 100644, size: 44}
Path for /x3.txt: 6 --> 7
In link 0:	6
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/x3.txt); inode 7
node{mode: 100644, size: 44}
read(/x3.txt, 4096 bytes, @+0) -> 44
Path for /x3.txt: 6 --> 7
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 7
node{mode: 100644, size: 44}
getattr(/x3.txt) -> (0) {mode: 100644, size: 44}
Path for /x3.txt: 6 --> 7
make disk0.cow
make[1]: Entering directory '/home/kelly/Documents/cs3650-ch3'
make[1]: 'disk0.cow' is up to date.
make[1]: Leaving directory '/home/kelly/Documents/cs3650-ch3'
./cowmount -s -f mnt disk0.cow
access(/, 0004) -> 0
+ storage_stat(/.Trash)
tree_lookup error
-2
getattr(/.Trash) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash+ storage_stat(/.Trash-1000)
tree_lookup error
-2
getattr(/.Trash-1000) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash-1000+ storage_stat(/BDMV)
tree_lookup error
-2
getattr(/BDMV) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /BDMV+ storage_stat(/.xdg-volume-info)
tree_lookup error
-2
getattr(/.xdg-volume-info) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.xdg-volume-info+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at pfusermount -u mnt || true
ath: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
getattr(/x3.txt) -> (0) {mode: 100644, size: 8}
Path for /x3.txt: 1 --> 12
access(/x3.txt, 0000) -> 0
open(/x3.txt) -> 0
Path for /x3.txt: 1 --> 12
ioctl(/x3.txt, 21505, ...) -> -1
In link 0:	11
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/x3.txt); inode 12
node{mode: 100644, size: 8}
read(/x3.txt, 4096 bytes, @+0) -> 8
Path for /x3.txt: 1 --> 12
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
getattr(/x3.txt) -> (0) {mode: 100644, size: 8}
Path for /x3.txt: 1 --> 12
make disk0.cow
make[1]: Entering directory '/home/kelly/Documents/cs3650-ch3'
make[1]: 'disk0.cow' is up to date.
make[1]: Leaving directory '/home/kelly/Documents/cs3650-ch3'
./cowmount -s -f mnt disk0.cow
access(/, 0004) -> 0
+ storage_stat(/.Trash)
tree_lookup error
-2
getattr(/.Trash) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash+ storage_stat(/.Trash-1000)
tree_lookup error
-2
getattr(/.Trash-1000) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash-1000+ storage_stat(/BDMV)
tree_lookup error
-2
getattr(/BDMV) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /BDMV+ storage_stat(/.xdg-volume-info)
tree_lookup error
-2
getattr(/.xdg-volume-info) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.xdg-volume-info+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.infaccess(/, 0001) -> 0
+ storage_stat(/y2.txt)
tree_lookup error
-2
getattr(/y2.txt) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /y2.txt+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
getattr(/x2.txt) -> (0) {mode: 100644, size: 8}
Path for /x2.txt: 1 --> 8
+ storage_stat(/y2.txt)
tree_lookup error
-2
getattr(/y2.txt) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /y2.txtCopying /x2.txt ...
Path for /x2.txt: 1 --> 8
garbage mark node 1
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 0
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 17
garbage mark node 15
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 13
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 14
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
+ cpy file 1 to 3
+ copy dir 8 -> looking for root 3
+ cpy file 8 to 5
+ copy dir 3 -> looking for root fusermount -u mnt || true
3
I am root. ¯\_(ツ)_/¯
+ replace_ref 8 with 5
Path for /x2.txt: 3 --> 5
Copy /x2.txt 8 --> 5 == 5
Copying / ...
Path for /: 3
garbage mark node 3
garbage mark node 4
garbage mark node 5
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 1
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 0
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 17
garbage mark node 15
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 13
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 14
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
+ cpy file 3 to 6
+ copy dir 6 -> looking for root 6
I am root. ¯\_(ツ)_/¯
Path for /: 6
Copy / 3 --> 6 == 6
+ dirent = 'y2.txt'
+ directory_put(..., y2.txt, 5) -> 0
node{mode: 40755, size: 120}
link(/x2.txt => /y2.txt) -> 0
Path for /x2.txt: 6 --> 5
Path for /y2.txt: 6 --> 5
+ storage_stat(/y2.txt)
+ storage_stat(/y2.txt); inode 5
node{mode: 100644, size: 8}
getattr(/y2.txt) -> (0) {mode: 100644, size: 8}
Path for /y2.txt: 6 --> 5
access(/y2.txt, 0000) -> 0
open(/y2.txt) -> 0
Path for /y2.txt: 6 --> 5
ioctl(/y2.txt, 21505, ...) -> -1
In link 0:	3
In link 1:	6
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/y2.txt); inode 5
node{mode: 100644, size: 8}
read(/y2.txt, 4096 bytes, @+0) -> 8
Path for /y2.txt: 6 --> 5
+ storage_stat(/y2.txt)
+ storage_stat(/y2.txt); inode 5
node{mode: 100644, size: 8}
getattr(/y2.txt) -> (0) {mode: 100644, size: 8}
Path for /y2.txt: 6 --> 5
make disk0.cow
make[1]: Entering directory '/home/kelly/Documents/cs3650-ch3'
make[1]: 'disk0.cow' is up to date.
make[1]: Leaving directory '/home/kelly/Documents/cs3650-ch3'
./cowmount -s -f mnt disk0.cow
access(/, 0004) -> 0
+ storage_stat(/.Trash)
tree_lookup error
-2
getattr(/.Trash) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash+ storage_stat(/.Trash-1000)
tree_lookup error
-2
getattr(/.Trash-1000) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash-1000+ storage_stat(/BDMV)
tree_lookup error
-2
getattr(/BDMV) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /BDMV+ storage_stat(/.xdg-volume-info)
tree_lookup error
-2
getattr(/.xdg-volume-info) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.xdg-volume-info+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
getattr(/) -> (0) {mode: 40755, size: 100}
Path for /: 1
+ storage_stat(/)
+ storage_stat(/); inode 1
node{mode: 40755, size: 100}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 1
+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/twelve.dat)
tree_lookup error
-2
getattr(/twelve.dat) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /twelve.datCopying / ...
Path for /: 1
garbage mark node 1
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 0
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 17
garbage mark node 15
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 13
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 14
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
+ cpy file 1 to 3
+ copy dir 3 -> looking for root 3
I am root. ¯\_(ツ)_/¯
Path for /: 3
Copy / 1 --> 3 == 3
+ mknod create /twelve.dat [100644] - #5
+ dirent = 'twelve.dat'
+ directory_put(..., twelve.dat, 5) -> 0
node{mode: 40755, size: 120}
mknod(/twelve.dat, 100644) -> 0
Path for /twelve.dat: 3 --> 5
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 5
node{mode: 100644, size: 0}
getattr(/twelve.dat) -> (0) {mode: 100644, size: 0}
Path for /twelve.dat: 3 --> 5
access(/twelve.dat, 0000) -> 0
open(/twelve.dat) -> 0
Path for /twelve.dat: 3 --> 5
ioctl(/twelve.dat, 21505, ...) -> -1
Copying /twelve.dat ...
Path for /twelve.dat: 3 --> 5
garbage mark node 3
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 5
garbage mark node 1
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 0
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 17
garbage mark node 15
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 13
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 14
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
+ cpy file 3 to 6
+ copy dir 5 -> looking for root 6
+ cpy file 5 to 7
+ copy dir 6 -> looking for root 6
I am root. ¯\_(ツ)_/¯
+ replace_ref 5 with 7
Path for /twelve.dat: 6 --> 7
Copy /twelve.dat 5 --> 7 == 7
+ storage_write inum: 7
write(/twelve.dat, 4096 bytes, @+0) -> 4096
Path for /twelve.dat: 6 --> 7
Copying /twelve.dat ...
Path for /twelve.dat: 6 --> 7
garbage mark node 6
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 7
garbage mark node 3
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 5
garbage mark node 1
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 0
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 17
garbage mark node 15
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 13
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 14
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 10
+ cpy file 6 to 18
+ copy dir 7 -> looking for root 18
+ cpy file 7 to 19
+ copy dir 18 -> looking for root 18
I am root. ¯\_(ツ)_/¯
+ replace_ref 7 with 19
Path for /twelve.dat: 18 --> 19
Copy /twelve.dat 7 --> 19 == 19
+ storage_write inum: 19
write(/twelve.dat, 4096 bytes, @+4096) -> 4096
Path for /twelve.dat: 18 --> 19
Copying /twelve.dat ...
Path for /twelve.dat: 18 --> 19
garbage mark node 18
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 19
garbage mark node 6
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 7
garbage mark node 3
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 5
garbage mark node 1
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 0
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 17
garbage mark node 15
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 13
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 14
garbage mark node 11
garbage mark node 4
garbage mark node 8
garbage mark node 12
+ cpy file 18 to 9
+ copy dir 19 -> looking for root 9
+ cpy file 19 to 10
+ copy dir 9 -> looking for root 9
I am root. ¯\_(ツ)_/¯
+ replace_ref 19 with 10
Path for /twelve.dat: 9 --> 10
Copy /twelve.dat 19 --> 10 == 10
+ storage_write inum: 10
write(/twelve.dat, 3809 bytes, @+8192) -> 3809
Path for /twelve.dat: 9 --> 10
access(/twelve.dat, 0000) -> 0
open(/twelve.dat) -> 0
Path for /twelve.dat: 9 --> 10
ioctl(/twelve.dat, 21505, ...) -> -1
+ storage_stat(/twelve.dat)
+ storage_fusermount -u mnt || true
stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
getattr(/twelve.dat) -> (0) {mode: 100644, size: 12001}
Path for /twelve.dat: 9 --> 10
In link 0:	9
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
read(/twelve.dat, 4096 bytes, @+8192) -> 3809
Path for /twelve.dat: 9 --> 10
make disk0.cow
make[1]: Entering directory '/home/kelly/Documents/cs3650-ch3'
make[1]: 'disk0.cow' is up to date.
make[1]: Leaving directory '/home/kelly/Documents/cs3650-ch3'
./cowmount -s -f mnt disk0.cow
access(/, 0004) -> 0
+ storage_stat(/.Trash)
tree_lookup error
-2
getattr(/.Trash) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash+ storage_stat(/.Trash-1000)
tree_lookup error
-2
getattr(/.Trash-1000) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash-1000+ storage_stat(/BDMV)
tree_lookup error
-2
getattr(/BDMV) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /BDMV+ storage_stat(/.xdg-volume-info)
tree_lookup error
-2
getattr(/.xdg-volume-info) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.xdg-volume-info+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
getattr(/twelve.dat) -> (0) {mode: 100644, size: 12001}
Path for /twelve.dat: 9 --> 10
access(/twelve.dat, 0000) -> 0
open(/twelve.dat) -> 0
Path for /twelve.dat: 9 --> 10
ioctl(/twelve.dat, 21505, ...) -> -1
Copying /twelve.dat ...
Path for /twelve.dat: 9 --> 10
garbage mark node 9
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 10
garbage mark node 18
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 19
garbage mark node 6
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 7
garbage mark node 3
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 5
garbage mark node 1
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 2
garbage mark node 0
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 17
garbage mark node 15
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 16
garbage mark node 13
garbage mark node 4
garbage mark node 8
garbage mark node 12
garbage mark node 14
+ cpy file 9 to 11
+ copy dir 10 -> looking for root 11
+ cpy file 10 to 20
+ copy dir 11 -> looking for root 11
I am root. ¯\_(ツ)_/¯
+ replace_ref 10 with 20
Path for /twelve.dat: 11 --> 20
Copy /twelve.dat 10 --> 20 == 20
+ storage_write inum: 20
write(/twelve.dat, 10 bytes, @+9000) -> 10
Path for /twelve.dat: 11 --> 20
access(/twelve.dat, 0000) -> 0
open(/twelve.dat) -> 0
Path for /twelve.dat: 11 --> 20
ioctl(/twelve.dat, 21505, ...) -> -1
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 20
node{mode: 100644, size: 9010}
getattr(/twelve.dat) -> (0) {mode: 100644, size: 9010}
Path for /twelve.dat: 11 --> 20
In link 0:	11
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/twelve.dat); inode 20
node{mode: 10fusermount -u mnt || true
0644, size: 9010}
read(/twelve.dat, 4096 bytes, @+8192) -> 818
Path for /twelve.dat: 11 --> 20
make disk0.cow
make[1]: Entering directory '/home/kelly/Documents/cs3650-ch3'
make[1]: 'disk0.cow' is up to date.
make[1]: Leaving directory '/home/kelly/Documents/cs3650-ch3'
./cowmount -s -f mnt disk0.cow
access(/, 0004) -> 0
+ storage_stat(/.Trash)
tree_lookup error
-2
getattr(/.Trash) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash+ storage_stat(/.Trash-1000)
tree_lookup error
-2
getattr(/.Trash-1000) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.Trash-1000+ storage_stat(/BDMV)
tree_lookup error
-2
getattr(/BDMV) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /BDMV+ storage_stat(/.xdg-volume-info)
tree_lookup error
-2
getattr(/.xdg-volume-info) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /.xdg-volume-info+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ lfusermount -u mnt || true
ooking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
getattr(/) -> (0) {mode: 40755, size: 120}
Path for /: 9
+ storage_stat(/)
+ storage_stat(/); inode 9
node{mode: 40755, size: 120}
+ looking at path: 'twelve.dat'
+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
+ looking at path: 'x5.txt'
+ storage_stat(/x5.txt)
+ storage_stat(/x5.txt); inode 2
node{mode: 100644, size: 8}
+ looking at path: 'x4.txt'
+ storage_stat(/x4.txt)
+ storage_stat(/x4.txt); inode 16
node{mode: 100644, size: 8}
+ looking at path: 'x3.txt'
+ storage_stat(/x3.txt)
+ storage_stat(/x3.txt); inode 12
node{mode: 100644, size: 8}
+ looking at path: 'x2.txt'
+ storage_stat(/x2.txt)
+ storage_stat(/x2.txt); inode 8
node{mode: 100644, size: 8}
+ looking at path: 'x1.txt'
+ storage_stat(/x1.txt)
+ storage_stat(/x1.txt); inode 4
node{mode: 100644, size: 8}
readdir(/) -> 0
Path for /: 9
+ storage_stat(/autorun.inf)
tree_lookup error
-2
getattr(/autorun.inf) -> (-2) {mode: 0000, size: 0}
tree_lookup error
-2
DNE: /autorun.inf+ storage_stat(/twelve.dat)
+ storage_stat(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
getattr(/twelve.dat) -> (0) {mode: 100644, size: 12001}
Path for /twelve.dat: 9 --> 10
access(/twelve.dat, 0000) -> 0
open(/twelve.dat) -> 0
Path for /twelve.dat: 9 --> 10
ioctl(/twelve.dat, 21505, ...) -> -1
In link 0:	9
In link 1:	-1
In link 2:	-1
In link 3:	-1
In link 4:	-1
In link 5:	-1
In link 6:	-1
In link 7:	-1
In link 8:	-1
In link 9:	-1
In link 10:	-1
In link 11:	-1
In link 12:	-1
In link 13:	-1
In link 14:	-1
In link 15:	-1
+ storage_read(/twelve.dat); inode 10
node{mode: 100644, size: 12001}
read(/twelve.dat, 4096 bytes, @+8192) -> 3809
Path for /twelve.dat: 9 --> 10
